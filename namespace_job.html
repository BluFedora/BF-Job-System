<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BluFedora Job System: Job Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BluFedora Job System<span id="projectnumber">&#160;v1.0.0</span>
   </div>
   <div id="projectbrief">This is a C++ job system library for use in game engines.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespace_job.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Job Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_job_1_1detail"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job_1_1detail.html">detail</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_job_1_1_index_iterator.html">IndexIterator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_job_1_1_index_range.html">IndexRange</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Range of indices to iterator over.  <a href="struct_job_1_1_index_range.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_job_1_1_initialization_lock"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#struct_job_1_1_initialization_lock">InitializationLock</a></td></tr>
<tr class="separator:struct_job_1_1_initialization_lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_job_1_1_initialization_token.html">InitializationToken</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_job_1_1_job_system_context"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#struct_job_1_1_job_system_context">JobSystemContext</a></td></tr>
<tr class="separator:struct_job_1_1_job_system_context"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_job_1_1_job_system_create_options"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#struct_job_1_1_job_system_create_options">JobSystemCreateOptions</a></td></tr>
<tr class="memdesc:struct_job_1_1_job_system_create_options"><td class="mdescLeft">&#160;</td><td class="mdescRight">The runtime configuration for the <a class="el" href="namespace_job.html">Job</a> System.  <a href="namespace_job.html#struct_job_1_1_job_system_create_options">More...</a><br /></td></tr>
<tr class="separator:struct_job_1_1_job_system_create_options"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_job_1_1_job_system_memory_requirements.html">JobSystemMemoryRequirements</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The memory requirements for a given configuration <code><a class="el" href="namespace_job.html#struct_job_1_1_job_system_create_options" title="The runtime configuration for the Job System.">JobSystemCreateOptions</a></code>.  <a href="struct_job_1_1_job_system_memory_requirements.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_job_1_1_locked_queue.html">LockedQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_job_1_1_m_p_m_c_queue.html">MPMCQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_job_1_1_splitter.html">Splitter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_job_1_1_s_p_m_c_deque.html">SPMCDeque</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_job_1_1_s_p_s_c_queue.html">SPSCQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_job_1_1_task.html">Task</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_job_1_1_task_data"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#struct_job_1_1_task_data">TaskData</a></td></tr>
<tr class="memdesc:struct_job_1_1_task_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">A buffer for user-data you can write to, maybe large enough to store task data inline.  <a href="namespace_job.html#struct_job_1_1_task_data">More...</a><br /></td></tr>
<tr class="separator:struct_job_1_1_task_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="union_job_1_1_task_fn_storage.html">TaskFnStorage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:union_job_1_1_task_memory_block"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#union_job_1_1_task_memory_block">TaskMemoryBlock</a></td></tr>
<tr class="separator:union_job_1_1_task_memory_block"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_job_1_1_task_pool"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#struct_job_1_1_task_pool">TaskPool</a></td></tr>
<tr class="separator:struct_job_1_1_task_pool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_job_1_1_task_ptr.html">TaskPtr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_job_1_1_thread_local_state"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a></td></tr>
<tr class="separator:struct_job_1_1_thread_local_state"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac7727f146165ae76b95cc50196df236e"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a> = std::uint16_t</td></tr>
<tr class="memdesc:ac7727f146165ae76b95cc50196df236e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id type of each worker thread.  <a href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">More...</a><br /></td></tr>
<tr class="separator:ac7727f146165ae76b95cc50196df236e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a553c2727a284305ddbc9d746e58267"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a2a553c2727a284305ddbc9d746e58267">TaskFn</a> = void(*)(<a class="el" href="struct_job_1_1_task.html">Task</a> *)</td></tr>
<tr class="memdesc:a2a553c2727a284305ddbc9d746e58267"><td class="mdescLeft">&#160;</td><td class="mdescRight">The signature of the type of function for a single <a class="el" href="struct_job_1_1_task.html">Task</a>.  <a href="namespace_job.html#a2a553c2727a284305ddbc9d746e58267">More...</a><br /></td></tr>
<tr class="separator:a2a553c2727a284305ddbc9d746e58267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b4ae2d934892bb03f311c31506476e"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a> = std::uint16_t</td></tr>
<tr class="separator:a66b4ae2d934892bb03f311c31506476e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5130f87f126f7ce70872c29687c0ccd"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#af5130f87f126f7ce70872c29687c0ccd">TaskHandleType</a> = <a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a></td></tr>
<tr class="separator:af5130f87f126f7ce70872c29687c0ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbbdb7aa147fca8ee364bf7e2d5e53d8"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#adbbdb7aa147fca8ee364bf7e2d5e53d8">AtomicTaskHandleType</a> = std::atomic&lt; <a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a> &gt;</td></tr>
<tr class="separator:adbbdb7aa147fca8ee364bf7e2d5e53d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef42ab2f4880b98a40cf86e5541503e0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#aef42ab2f4880b98a40cf86e5541503e0">WorkerIDType</a> = <a class="el" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a></td></tr>
<tr class="separator:aef42ab2f4880b98a40cf86e5541503e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b005d277912bb3695b8b53b19341a53"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a2b005d277912bb3695b8b53b19341a53">AtomicInt32</a> = std::atomic_int32_t</td></tr>
<tr class="separator:a2b005d277912bb3695b8b53b19341a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae159e934d8d1f329f729f24874234d40"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ae159e934d8d1f329f729f24874234d40">Byte</a> = unsigned char</td></tr>
<tr class="separator:ae159e934d8d1f329f729f24874234d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a051e674ab31e8b9946de4990f3b4288b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a051e674ab31e8b9946de4990f3b4288b">AtomicTaskPtr</a> = std::atomic&lt; <a class="el" href="struct_job_1_1_task_ptr.html">TaskPtr</a> &gt;</td></tr>
<tr class="separator:a051e674ab31e8b9946de4990f3b4288b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a686f6798e9f499e832cb9f125f0db5fb"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a> : std::uint8_t { <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">NORMAL</a> = 0
, <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba186495f7da296bf880df3a22a492b378">MAIN</a> = 1
, <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613">WORKER</a> = 2
 }</td></tr>
<tr class="memdesc:a686f6798e9f499e832cb9f125f0db5fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines which threads the task will be allowed to run on.  <a href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">More...</a><br /></td></tr>
<tr class="separator:a686f6798e9f499e832cb9f125f0db5fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af06568a1c2e63b5742b0569cd9afbb53"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53">SPMCDequeStatus</a> { <a class="el" href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53ad0749aaba8b833466dfcbb0428e4f89c">SUCCESS</a>
, <a class="el" href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53a0f399b49987022f02522e78b0401292d">FAILED_RACE</a>
, <a class="el" href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53abc99178083549fb2e0f99f59fea3a2b1">FAILED_SIZE</a>
 }</td></tr>
<tr class="separator:af06568a1c2e63b5742b0569cd9afbb53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ada79d1288c5458f1451a414ec89d2ba6"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ada79d1288c5458f1451a414ec89d2ba6">NumSystemThreads</a> () noexcept</td></tr>
<tr class="memdesc:ada79d1288c5458f1451a414ec89d2ba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes some system calls to grab the number threads / processors on the device. This function can be called by any thread concurrently.  <a href="namespace_job.html#ada79d1288c5458f1451a414ec89d2ba6">More...</a><br /></td></tr>
<tr class="separator:ada79d1288c5458f1451a414ec89d2ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398a7fd0221839f321c00864238b9ab2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_job_1_1_initialization_token.html">InitializationToken</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a398a7fd0221839f321c00864238b9ab2">Initialize</a> (const <a class="el" href="struct_job_1_1_job_system_memory_requirements.html">JobSystemMemoryRequirements</a> &amp;memory_requirements={}, void *const memory=nullptr) noexcept</td></tr>
<tr class="memdesc:a398a7fd0221839f321c00864238b9ab2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the <a class="el" href="namespace_job.html">Job</a> system and creates all the worker threads. The thread that calls '<a class="el" href="namespace_job.html#a398a7fd0221839f321c00864238b9ab2" title="Sets up the Job system and creates all the worker threads. The thread that calls &#39;Job::Initialize&#39; is...">Job::Initialize</a>' is considered the main thread.  <a href="namespace_job.html#a398a7fd0221839f321c00864238b9ab2">More...</a><br /></td></tr>
<tr class="separator:a398a7fd0221839f321c00864238b9ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a997446d916b36e7478c7627694a51"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a77a997446d916b36e7478c7627694a51">ProcessorArchitectureName</a> () noexcept</td></tr>
<tr class="memdesc:a77a997446d916b36e7478c7627694a51"><td class="mdescLeft">&#160;</td><td class="mdescRight">An implementation defined name for the CPU architecture of the device. This function can be called by any thread concurrently.  <a href="namespace_job.html#a77a997446d916b36e7478c7627694a51">More...</a><br /></td></tr>
<tr class="separator:a77a997446d916b36e7478c7627694a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b606baa9964c9afd3e30294ccf7dc06"><td class="memItemLeft" align="right" valign="top">std::uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a5b606baa9964c9afd3e30294ccf7dc06">NumWorkers</a> () noexcept</td></tr>
<tr class="memdesc:a5b606baa9964c9afd3e30294ccf7dc06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of workers created by the system. This function can be called by any thread concurrently.  <a href="namespace_job.html#a5b606baa9964c9afd3e30294ccf7dc06">More...</a><br /></td></tr>
<tr class="separator:a5b606baa9964c9afd3e30294ccf7dc06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee5888463e3bb5cff3eff5f80d5265b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#aaee5888463e3bb5cff3eff5f80d5265b">CurrentWorker</a> () noexcept</td></tr>
<tr class="memdesc:aaee5888463e3bb5cff3eff5f80d5265b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current id of the current thread. This function can be called by any thread concurrently.  <a href="namespace_job.html#aaee5888463e3bb5cff3eff5f80d5265b">More...</a><br /></td></tr>
<tr class="separator:aaee5888463e3bb5cff3eff5f80d5265b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d923fa374392c284942ea7d8f90e466"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a9d923fa374392c284942ea7d8f90e466">Shutdown</a> () noexcept</td></tr>
<tr class="memdesc:a9d923fa374392c284942ea7d8f90e466"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will deallocate any memory used by the system and shutdown any threads created by 'bfJob::initialize'.  <a href="namespace_job.html#a9d923fa374392c284942ea7d8f90e466">More...</a><br /></td></tr>
<tr class="separator:a9d923fa374392c284942ea7d8f90e466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a5491cbbe785588f2671f74b5d24380"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_job_1_1_task.html">Task</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a6a5491cbbe785588f2671f74b5d24380">TaskMake</a> (const <a class="el" href="namespace_job.html#a2a553c2727a284305ddbc9d746e58267">TaskFn</a> function, <a class="el" href="struct_job_1_1_task.html">Task</a> *const parent=nullptr) noexcept</td></tr>
<tr class="memdesc:a6a5491cbbe785588f2671f74b5d24380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="struct_job_1_1_task.html">Task</a> that should be later submitted by calling 'TaskSubmit'.  <a href="namespace_job.html#a6a5491cbbe785588f2671f74b5d24380">More...</a><br /></td></tr>
<tr class="separator:a6a5491cbbe785588f2671f74b5d24380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1786f2fd8c5c13f53d066bf4e029445c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_job.html#struct_job_1_1_task_data">TaskData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a1786f2fd8c5c13f53d066bf4e029445c">TaskGetData</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const task, const std::size_t alignment) noexcept</td></tr>
<tr class="memdesc:a1786f2fd8c5c13f53d066bf4e029445c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns you the user-data buffer you way write to get data into your TaskFn.  <a href="namespace_job.html#a1786f2fd8c5c13f53d066bf4e029445c">More...</a><br /></td></tr>
<tr class="separator:a1786f2fd8c5c13f53d066bf4e029445c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381064dc945c407e9c80bf1685dd3ee7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a381064dc945c407e9c80bf1685dd3ee7">TaskAddContinuation</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const self, <a class="el" href="struct_job_1_1_task.html">Task</a> *const continuation, const <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a> queue=<a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">QueueType::NORMAL</a>) noexcept</td></tr>
<tr class="memdesc:a381064dc945c407e9c80bf1685dd3ee7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A 'continuation' is a task that will be added to a queue after the 'self' <a class="el" href="struct_job_1_1_task.html">Task</a> has finished running.  <a href="namespace_job.html#a381064dc945c407e9c80bf1685dd3ee7">More...</a><br /></td></tr>
<tr class="separator:a381064dc945c407e9c80bf1685dd3ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5a16b048e98b8a71dfc778d2c8f564"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a2b5a16b048e98b8a71dfc778d2c8f564"><td class="memTemplItemLeft" align="right" valign="top">T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#a2b5a16b048e98b8a71dfc778d2c8f564">TaskDataAs</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const task) noexcept</td></tr>
<tr class="memdesc:a2b5a16b048e98b8a71dfc778d2c8f564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grabs the user-data pointer as the T you specified. No safety is guaranteed, this is just a dumb cast.  <a href="namespace_job.html#a2b5a16b048e98b8a71dfc778d2c8f564">More...</a><br /></td></tr>
<tr class="separator:a2b5a16b048e98b8a71dfc778d2c8f564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab93a1aea2b502fd2657cc30d0540e68"><td class="memTemplParams" colspan="2">template&lt;typename T , typename... Args&gt; </td></tr>
<tr class="memitem:aab93a1aea2b502fd2657cc30d0540e68"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#aab93a1aea2b502fd2657cc30d0540e68">TaskEmplaceData</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const task, Args &amp;&amp;... args)</td></tr>
<tr class="memdesc:aab93a1aea2b502fd2657cc30d0540e68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the constructor of T on the user-data buffer.  <a href="namespace_job.html#aab93a1aea2b502fd2657cc30d0540e68">More...</a><br /></td></tr>
<tr class="separator:aab93a1aea2b502fd2657cc30d0540e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba53682d46eec5bdeab726d5648a2ce"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a7ba53682d46eec5bdeab726d5648a2ce"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#a7ba53682d46eec5bdeab726d5648a2ce">TaskSetData</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const task, const T &amp;data)</td></tr>
<tr class="memdesc:a7ba53682d46eec5bdeab726d5648a2ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies 'data' into the user-data buffer by calling the T copy constructor.  <a href="namespace_job.html#a7ba53682d46eec5bdeab726d5648a2ce">More...</a><br /></td></tr>
<tr class="separator:a7ba53682d46eec5bdeab726d5648a2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb32793271df92bd2ed13f1a6455f592"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aeb32793271df92bd2ed13f1a6455f592"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#aeb32793271df92bd2ed13f1a6455f592">TaskDestructData</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const task)</td></tr>
<tr class="memdesc:aeb32793271df92bd2ed13f1a6455f592"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for calling destructor on the task's user data.  <a href="namespace_job.html#aeb32793271df92bd2ed13f1a6455f592">More...</a><br /></td></tr>
<tr class="separator:aeb32793271df92bd2ed13f1a6455f592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76170415e85eea5113a606a878a7dcf9"><td class="memTemplParams" colspan="2">template&lt;typename Closure &gt; </td></tr>
<tr class="memitem:a76170415e85eea5113a606a878a7dcf9"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="struct_job_1_1_task.html">Task</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#a76170415e85eea5113a606a878a7dcf9">TaskMake</a> (Closure &amp;&amp;function, <a class="el" href="struct_job_1_1_task.html">Task</a> *const parent=nullptr)</td></tr>
<tr class="memdesc:a76170415e85eea5113a606a878a7dcf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new task making a copy of the closure.  <a href="namespace_job.html#a76170415e85eea5113a606a878a7dcf9">More...</a><br /></td></tr>
<tr class="separator:a76170415e85eea5113a606a878a7dcf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab933882d5d7f7e4ba7c0fd63e2966f11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ab933882d5d7f7e4ba7c0fd63e2966f11">TaskIncRef</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const task) noexcept</td></tr>
<tr class="memdesc:ab933882d5d7f7e4ba7c0fd63e2966f11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the task's ref count preventing it from being garbage collected.  <a href="namespace_job.html#ab933882d5d7f7e4ba7c0fd63e2966f11">More...</a><br /></td></tr>
<tr class="separator:ab933882d5d7f7e4ba7c0fd63e2966f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9be65ab1c2925023348fbdfcbf9fe0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ad9be65ab1c2925023348fbdfcbf9fe0d">TaskDecRef</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const task) noexcept</td></tr>
<tr class="memdesc:ad9be65ab1c2925023348fbdfcbf9fe0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the task's ref count allow it to be garbage collected.  <a href="namespace_job.html#ad9be65ab1c2925023348fbdfcbf9fe0d">More...</a><br /></td></tr>
<tr class="separator:ad9be65ab1c2925023348fbdfcbf9fe0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9f7e7a737f1babc1345e4ceaf64e79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#afa9f7e7a737f1babc1345e4ceaf64e79">TaskIsDone</a> (const <a class="el" href="struct_job_1_1_task.html">Task</a> *const task) noexcept</td></tr>
<tr class="memdesc:afa9f7e7a737f1babc1345e4ceaf64e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the done status of the task.  <a href="namespace_job.html#afa9f7e7a737f1babc1345e4ceaf64e79">More...</a><br /></td></tr>
<tr class="separator:afa9f7e7a737f1babc1345e4ceaf64e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada20ebf3082f8aea7b75afc210d7621b"><td class="memTemplParams" colspan="2">template&lt;typename ConditionFn &gt; </td></tr>
<tr class="memitem:ada20ebf3082f8aea7b75afc210d7621b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#ada20ebf3082f8aea7b75afc210d7621b">TickMainQueue</a> (ConditionFn &amp;&amp;condition) noexcept</td></tr>
<tr class="memdesc:ada20ebf3082f8aea7b75afc210d7621b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs tasks from the main queue as long as there are tasks available and <code>condition</code> returns true.  <a href="namespace_job.html#ada20ebf3082f8aea7b75afc210d7621b">More...</a><br /></td></tr>
<tr class="separator:ada20ebf3082f8aea7b75afc210d7621b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5c158177872f256a96aba479a04b0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a0f5c158177872f256a96aba479a04b0f">TickMainQueue</a> () noexcept</td></tr>
<tr class="memdesc:a0f5c158177872f256a96aba479a04b0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs tasks from the main queue until it is empty.  <a href="namespace_job.html#a0f5c158177872f256a96aba479a04b0f">More...</a><br /></td></tr>
<tr class="separator:a0f5c158177872f256a96aba479a04b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e34b8468f9b731c3a56b6848587f4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ae3e34b8468f9b731c3a56b6848587f4d">TaskSubmit</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const self, const <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a> queue=<a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">QueueType::NORMAL</a>) noexcept</td></tr>
<tr class="memdesc:ae3e34b8468f9b731c3a56b6848587f4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submits the task to the specified queue.  <a href="namespace_job.html#ae3e34b8468f9b731c3a56b6848587f4d">More...</a><br /></td></tr>
<tr class="separator:ae3e34b8468f9b731c3a56b6848587f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2961eee80e34c41deade7924657154b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a2961eee80e34c41deade7924657154b8">WaitOnTask</a> (const <a class="el" href="struct_job_1_1_task.html">Task</a> *const task) noexcept</td></tr>
<tr class="memdesc:a2961eee80e34c41deade7924657154b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until the specified <code>task</code> is done executing. This function will block but do work while being blocked so there is no wasted time.  <a href="namespace_job.html#a2961eee80e34c41deade7924657154b8">More...</a><br /></td></tr>
<tr class="separator:a2961eee80e34c41deade7924657154b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ff0cc938b7cd7efc74be4e7c82ed74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a21ff0cc938b7cd7efc74be4e7c82ed74">TaskSubmitAndWait</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const self, const <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a> queue=<a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">QueueType::NORMAL</a>) noexcept</td></tr>
<tr class="memdesc:a21ff0cc938b7cd7efc74be4e7c82ed74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as calling <code>taskSubmit</code> followed by <code>waitOnTask</code>.  <a href="namespace_job.html#a21ff0cc938b7cd7efc74be4e7c82ed74">More...</a><br /></td></tr>
<tr class="separator:a21ff0cc938b7cd7efc74be4e7c82ed74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3555facf3b46ce9ac3a4a0ae845b35d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ad3555facf3b46ce9ac3a4a0ae845b35d">PauseProcessor</a> () noexcept</td></tr>
<tr class="memdesc:ad3555facf3b46ce9ac3a4a0ae845b35d"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPU pause instruction to indicate when you are in a spin wait loop.  <a href="namespace_job.html#ad3555facf3b46ce9ac3a4a0ae845b35d">More...</a><br /></td></tr>
<tr class="separator:ad3555facf3b46ce9ac3a4a0ae845b35d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f97b7424b855833a25294046caf3c3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a4f97b7424b855833a25294046caf3c3b">YieldTimeSlice</a> () noexcept</td></tr>
<tr class="memdesc:a4f97b7424b855833a25294046caf3c3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asks the OS to yield this threads execution to another thread on the current cpu core.  <a href="namespace_job.html#a4f97b7424b855833a25294046caf3c3b">More...</a><br /></td></tr>
<tr class="separator:a4f97b7424b855833a25294046caf3c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e954e52e77f521bd679ceedee2e9a3b"><td class="memTemplParams" colspan="2">template&lt;typename F , typename S &gt; </td></tr>
<tr class="memitem:a9e954e52e77f521bd679ceedee2e9a3b"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="struct_job_1_1_task.html">Task</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#a9e954e52e77f521bd679ceedee2e9a3b">ParallelFor</a> (const std::size_t start, const std::size_t count, S &amp;&amp;splitter, F &amp;&amp;fn, <a class="el" href="struct_job_1_1_task.html">Task</a> *parent=nullptr)</td></tr>
<tr class="memdesc:a9e954e52e77f521bd679ceedee2e9a3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parallel for algorithm, splits the work up recursively splitting based on the <code>splitter</code> passed in.  <a href="namespace_job.html#a9e954e52e77f521bd679ceedee2e9a3b">More...</a><br /></td></tr>
<tr class="separator:a9e954e52e77f521bd679ceedee2e9a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b466a5f1cf2cd500569cb8bc394a29"><td class="memTemplParams" colspan="2">template&lt;typename <a class="el" href="struct_job_1_1_splitter.html">Splitter</a> , typename Reducer &gt; </td></tr>
<tr class="memitem:af3b466a5f1cf2cd500569cb8bc394a29"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="struct_job_1_1_task.html">Task</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#af3b466a5f1cf2cd500569cb8bc394a29">ParallelReduce</a> (const std::size_t start, const std::size_t count, <a class="el" href="struct_job_1_1_splitter.html">Splitter</a> &amp;&amp;splitter, Reducer &amp;&amp;reduce, <a class="el" href="struct_job_1_1_task.html">Task</a> *parent=nullptr)</td></tr>
<tr class="separator:af3b466a5f1cf2cd500569cb8bc394a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d0b26b28577004e29e759e45c2425e2"><td class="memTemplParams" colspan="2">template&lt;typename T , typename F , typename S &gt; </td></tr>
<tr class="memitem:a9d0b26b28577004e29e759e45c2425e2"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="struct_job_1_1_task.html">Task</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#a9d0b26b28577004e29e759e45c2425e2">ParallelFor</a> (T *const data, const std::size_t count, S &amp;&amp;splitter, F &amp;&amp;fn, <a class="el" href="struct_job_1_1_task.html">Task</a> *parent=nullptr)</td></tr>
<tr class="memdesc:a9d0b26b28577004e29e759e45c2425e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parallel for algorithm, splits the work up recursively splitting based on the <code>splitter</code> passed in. This version is a helper for array data.  <a href="namespace_job.html#a9d0b26b28577004e29e759e45c2425e2">More...</a><br /></td></tr>
<tr class="separator:a9d0b26b28577004e29e759e45c2425e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be4134569de0124394d50c8407ea70e"><td class="memTemplParams" colspan="2">template&lt;typename... F&gt; </td></tr>
<tr class="memitem:a4be4134569de0124394d50c8407ea70e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="struct_job_1_1_task.html">Task</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#a4be4134569de0124394d50c8407ea70e">ParallelInvoke</a> (<a class="el" href="struct_job_1_1_task.html">Task</a> *const parent, F &amp;&amp;... fns)</td></tr>
<tr class="memdesc:a4be4134569de0124394d50c8407ea70e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes each passed in function object in parallel.  <a href="namespace_job.html#a4be4134569de0124394d50c8407ea70e">More...</a><br /></td></tr>
<tr class="separator:a4be4134569de0124394d50c8407ea70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a935d39b02b2713291aed58d9c1135fcc"><td class="memItemLeft" align="right" valign="top">static constexpr std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a935d39b02b2713291aed58d9c1135fcc">k_FalseSharingPadSize</a> = std::hardware_destructive_interference_size</td></tr>
<tr class="separator:a935d39b02b2713291aed58d9c1135fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef3303347f87a62f73106bf96a855e22"><td class="memItemLeft" align="right" valign="top">static constexpr std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#aef3303347f87a62f73106bf96a855e22">k_CachelineSize</a> = 64u</td></tr>
<tr class="separator:aef3303347f87a62f73106bf96a855e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa141d8407e498c708be9a947805b6853"><td class="memItemLeft" align="right" valign="top">static constexpr std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#aa141d8407e498c708be9a947805b6853">k_ExpectedTaskSize</a> = std::max(std::size_t(128u), <a class="el" href="namespace_job.html#aef3303347f87a62f73106bf96a855e22">k_CachelineSize</a>)</td></tr>
<tr class="separator:aa141d8407e498c708be9a947805b6853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6be9ba0f23d0e66306290cd06d6089"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#abb6be9ba0f23d0e66306290cd06d6089">k_InvalidQueueType</a> = <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a>(int(<a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613">QueueType::WORKER</a>) + 1)</td></tr>
<tr class="separator:abb6be9ba0f23d0e66306290cd06d6089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb56989a0a31d03a041c40e8ac99cc7"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a4bb56989a0a31d03a041c40e8ac99cc7">NullTaskHandle</a> = std::numeric_limits&lt;<a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a>&gt;::max()</td></tr>
<tr class="separator:a4bb56989a0a31d03a041c40e8ac99cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="struct_job_1_1_initialization_lock" id="struct_job_1_1_initialization_lock"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_job_1_1_initialization_lock">&#9670;&nbsp;</a></span>Job::InitializationLock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Job::InitializationLock</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00192">192</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="af387d34b32af61c8e087ea987605f220" name="af387d34b32af61c8e087ea987605f220"></a>mutex</td>
<td class="fieldname">
init_mutex</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aea7eded61e2238418bb232de730caf53" name="aea7eded61e2238418bb232de730caf53"></a>condition_variable</td>
<td class="fieldname">
init_cv</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa5e8e433ba17496dcee1ab1c057ee2b9" name="aa5e8e433ba17496dcee1ab1c057ee2b9"></a>atomic_uint32_t</td>
<td class="fieldname">
num_workers_ready</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_job_1_1_job_system_context" id="struct_job_1_1_job_system_context"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_job_1_1_job_system_context">&#9670;&nbsp;</a></span>Job::JobSystemContext</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Job::JobSystemContext</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00199">199</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a7136616a9c9b73ef1f3ef9b28e75f76e" name="a7136616a9c9b73ef1f3ef9b28e75f76e"></a><a class="el" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a> *</td>
<td class="fieldname">
workers</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8c3b1e96a4c0f2e3a90b75dd8255dc3b" name="a8c3b1e96a4c0f2e3a90b75dd8255dc3b"></a>uint32_t</td>
<td class="fieldname">
num_workers</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a938eecb18a6a3d6262aec76547e296ca" name="a938eecb18a6a3d6262aec76547e296ca"></a>uint32_t</td>
<td class="fieldname">
num_tasks_per_worker</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0d5db0ce93f3106774a05370d8bde73d" name="a0d5db0ce93f3106774a05370d8bde73d"></a><a class="el" href="namespace_job.html#struct_job_1_1_initialization_lock">InitializationLock</a></td>
<td class="fieldname">
init_lock</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a99e33c9b5b872813774ce73d839c23bd" name="a99e33c9b5b872813774ce73d839c23bd"></a>const char *</td>
<td class="fieldname">
sys_arch_str</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac0ea66f39f501ceaded0e28236773fe2" name="ac0ea66f39f501ceaded0e28236773fe2"></a>size_t</td>
<td class="fieldname">
system_alloc_size</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa640462a9e9997538a13538d1f63d026" name="aa640462a9e9997538a13538d1f63d026"></a>size_t</td>
<td class="fieldname">
system_alloc_alignment</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6ed368a7c87ea03926bf80cfa2e47709" name="a6ed368a7c87ea03926bf80cfa2e47709"></a>bool</td>
<td class="fieldname">
needs_delete</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a93ec86776cd50eb50948754288be9f7b" name="a93ec86776cd50eb50948754288be9f7b"></a>atomic_bool</td>
<td class="fieldname">
is_running</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a049da5bae449544c7b17c3aceeee3a79" name="a049da5bae449544c7b17c3aceeee3a79"></a><a class="el" href="class_job_1_1_locked_queue.html">LockedQueue</a>&lt; <a class="el" href="struct_job_1_1_task_ptr.html">TaskPtr</a> &gt;</td>
<td class="fieldname">
main_queue</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aab625f8e152ac7b501029f59f6ed4064" name="aab625f8e152ac7b501029f59f6ed4064"></a>mutex</td>
<td class="fieldname">
worker_sleep_mutex</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a26844370c934a2287a6066b3e5889d98" name="a26844370c934a2287a6066b3e5889d98"></a>condition_variable</td>
<td class="fieldname">
worker_sleep_cv</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9be19abdc70fad2d52894a42575fe0e6" name="a9be19abdc70fad2d52894a42575fe0e6"></a>atomic_uint32_t</td>
<td class="fieldname">
num_available_jobs</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_job_1_1_job_system_create_options" id="struct_job_1_1_job_system_create_options"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_job_1_1_job_system_create_options">&#9670;&nbsp;</a></span>Job::JobSystemCreateOptions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Job::JobSystemCreateOptions</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >The runtime configuration for the <a class="el" href="namespace_job.html">Job</a> System. </p>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00085">85</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="ae66ffe1e31258baf98a4db395ed6bff4" name="ae66ffe1e31258baf98a4db395ed6bff4"></a>uint16_t</td>
<td class="fieldname">
num_threads</td>
<td class="fielddoc">
Use 0 to indicate using the number of cores available on the system. </td></tr>
<tr><td class="fieldtype">
<a id="aa03f5b7291117b5e37a2a7f3f20d26d1" name="aa03f5b7291117b5e37a2a7f3f20d26d1"></a>uint16_t</td>
<td class="fieldname">
main_queue_size</td>
<td class="fielddoc">
Number of tasks in the job system's <code><a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba186495f7da296bf880df3a22a492b378" title="Tasks in this queue will only be run by the main thread.">QueueType::MAIN</a></code> queue. (Must be power of two) </td></tr>
<tr><td class="fieldtype">
<a id="a65f68139b9fe13d51e749b62b85b5614" name="a65f68139b9fe13d51e749b62b85b5614"></a>uint16_t</td>
<td class="fieldname">
normal_queue_size</td>
<td class="fielddoc">
Number of tasks in each worker's <code><a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051" title="Tasks in this queue will run on either the main or worker threads.">QueueType::NORMAL</a></code> queue. (Must be power of two) </td></tr>
<tr><td class="fieldtype">
<a id="ad7f499ac9f75090b562e4d30afa070ed" name="ad7f499ac9f75090b562e4d30afa070ed"></a>uint16_t</td>
<td class="fieldname">
worker_queue_size</td>
<td class="fielddoc">
Number of tasks in each worker's <code><a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613" title="Tasks in this queue will never run on the main thread.">QueueType::WORKER</a></code> queue. (Must be power of two) </td></tr>
<tr><td class="fieldtype">
<a id="a0882adb15126b4fe2a94c21f744b6525" name="a0882adb15126b4fe2a94c21f744b6525"></a>uint64_t</td>
<td class="fieldname">
job_steal_rng_seed</td>
<td class="fielddoc">
The RNG for work queue stealing will be seeded with this value. </td></tr>
</table>

</div>
</div>
<a name="struct_job_1_1_task_data" id="struct_job_1_1_task_data"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_job_1_1_task_data">&#9670;&nbsp;</a></span>Job::TaskData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Job::TaskData</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >A buffer for user-data you can write to, maybe large enough to store task data inline. </p>
<p >If you store non trivial data remember to manually call it's destructor at the end of the task function.</p>
<p >If you call 'TaskEmplaceData' or 'TaskSetData' and need to update the data once more be sure to destruct the previous contents correctly if the data stored in the buffer is non trivial. </p>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00178">178</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a206e9e451cca5c05ad02c69ad733d8f0" name="a206e9e451cca5c05ad02c69ad733d8f0"></a>void *</td>
<td class="fieldname">
ptr</td>
<td class="fielddoc">
The start of the buffer you may write to. </td></tr>
<tr><td class="fieldtype">
<a id="a19841c4464efdc31fd3315982499ec87" name="a19841c4464efdc31fd3315982499ec87"></a>size_t</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
The size of the buffer. </td></tr>
</table>

</div>
</div>
<a name="union_job_1_1_task_memory_block" id="union_job_1_1_task_memory_block"></a>
<h2 class="memtitle"><span class="permalink"><a href="#union_job_1_1_task_memory_block">&#9670;&nbsp;</a></span>Job::TaskMemoryBlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union Job::TaskMemoryBlock</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00167">167</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a3f738fb139edbd8b37aa827b7ef40a2f" name="a3f738fb139edbd8b37aa827b7ef40a2f"></a><a class="el" href="namespace_job.html#union_job_1_1_task_memory_block">TaskMemoryBlock</a> *</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a997127b0be46e34cd4b5a0e8ec41637f" name="a997127b0be46e34cd4b5a0e8ec41637f"></a>unsigned char</td>
<td class="fieldname">
storage[sizeof(<a class="el" href="struct_job_1_1_task.html">Task</a>)]</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_job_1_1_task_pool" id="struct_job_1_1_task_pool"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_job_1_1_task_pool">&#9670;&nbsp;</a></span>Job::TaskPool</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Job::TaskPool</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00174">174</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="ad78b67acabbfeffa4fa359033f9e283e" name="ad78b67acabbfeffa4fa359033f9e283e"></a><a class="el" href="namespace_job.html#union_job_1_1_task_memory_block">TaskMemoryBlock</a> *</td>
<td class="fieldname">
memory</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a3eaa44dbda014534b66e81de453c2750" name="a3eaa44dbda014534b66e81de453c2750"></a><a class="el" href="namespace_job.html#union_job_1_1_task_memory_block">TaskMemoryBlock</a> *</td>
<td class="fieldname">
freelist</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_job_1_1_thread_local_state" id="struct_job_1_1_thread_local_state"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_job_1_1_thread_local_state">&#9670;&nbsp;</a></span>Job::ThreadLocalState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Job::ThreadLocalState</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00180">180</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a6d438e37fa2b50e1317c0a1c3940d725" name="a6d438e37fa2b50e1317c0a1c3940d725"></a><a class="el" href="class_job_1_1_s_p_m_c_deque.html">SPMCDeque</a>&lt; <a class="el" href="struct_job_1_1_task_ptr.html">TaskPtr</a> &gt;</td>
<td class="fieldname">
normal_queue</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1e192ea5b6078206abfaee90b2113cda" name="a1e192ea5b6078206abfaee90b2113cda"></a><a class="el" href="class_job_1_1_s_p_m_c_deque.html">SPMCDeque</a>&lt; <a class="el" href="struct_job_1_1_task_ptr.html">TaskPtr</a> &gt;</td>
<td class="fieldname">
worker_queue</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9d4f4ef4764274265de7c74e12ab906e" name="a9d4f4ef4764274265de7c74e12ab906e"></a><a class="el" href="namespace_job.html#struct_job_1_1_task_pool">TaskPool</a></td>
<td class="fieldname">
task_allocator</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="abde4d73b7c8c689c4268bf3851468ab0" name="abde4d73b7c8c689c4268bf3851468ab0"></a><a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a> *</td>
<td class="fieldname">
allocated_tasks</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a69022452a94cf0826b6d41fd937a6a6e" name="a69022452a94cf0826b6d41fd937a6a6e"></a><a class="el" href="namespace_job.html#af5130f87f126f7ce70872c29687c0ccd">TaskHandleType</a></td>
<td class="fieldname">
num_allocated_tasks</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a65f3e1f40942041a43ea77df9b05afec" name="a65f3e1f40942041a43ea77df9b05afec"></a><a class="el" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a> *</td>
<td class="fieldname">
last_stolen_worker</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6c665b2e0616e1c9a1baeb2e0ec42704" name="a6c665b2e0616e1c9a1baeb2e0ec42704"></a>pcg_state_setseq_64</td>
<td class="fieldname">
rng_state</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1c97516f3a6726b0ba43791fcbe341fc" name="a1c97516f3a6726b0ba43791fcbe341fc"></a>thread</td>
<td class="fieldname">
thread_id</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ac7727f146165ae76b95cc50196df236e" name="ac7727f146165ae76b95cc50196df236e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7727f146165ae76b95cc50196df236e">&#9670;&nbsp;</a></span>WorkerID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">Job::WorkerID</a> = typedef std::uint16_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The id type of each worker thread. </p>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00054">54</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>

</div>
</div>
<a id="a2a553c2727a284305ddbc9d746e58267" name="a2a553c2727a284305ddbc9d746e58267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a553c2727a284305ddbc9d746e58267">&#9670;&nbsp;</a></span>TaskFn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespace_job.html#a2a553c2727a284305ddbc9d746e58267">Job::TaskFn</a> = typedef void (*)(<a class="el" href="struct_job_1_1_task.html">Task</a>*)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The signature of the type of function for a single <a class="el" href="struct_job_1_1_task.html">Task</a>. </p>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00055">55</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>

</div>
</div>
<a id="a66b4ae2d934892bb03f311c31506476e" name="a66b4ae2d934892bb03f311c31506476e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66b4ae2d934892bb03f311c31506476e">&#9670;&nbsp;</a></span>TaskHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">Job::TaskHandle</a> = typedef std::uint16_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00082">82</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

</div>
</div>
<a id="af5130f87f126f7ce70872c29687c0ccd" name="af5130f87f126f7ce70872c29687c0ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5130f87f126f7ce70872c29687c0ccd">&#9670;&nbsp;</a></span>TaskHandleType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespace_job.html#af5130f87f126f7ce70872c29687c0ccd">Job::TaskHandleType</a> = typedef <a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00083">83</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

</div>
</div>
<a id="adbbdb7aa147fca8ee364bf7e2d5e53d8" name="adbbdb7aa147fca8ee364bf7e2d5e53d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbbdb7aa147fca8ee364bf7e2d5e53d8">&#9670;&nbsp;</a></span>AtomicTaskHandleType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespace_job.html#adbbdb7aa147fca8ee364bf7e2d5e53d8">Job::AtomicTaskHandleType</a> = typedef std::atomic&lt;<a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00084">84</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

</div>
</div>
<a id="aef42ab2f4880b98a40cf86e5541503e0" name="aef42ab2f4880b98a40cf86e5541503e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef42ab2f4880b98a40cf86e5541503e0">&#9670;&nbsp;</a></span>WorkerIDType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespace_job.html#aef42ab2f4880b98a40cf86e5541503e0">Job::WorkerIDType</a> = typedef <a class="el" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00085">85</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

</div>
</div>
<a id="a2b005d277912bb3695b8b53b19341a53" name="a2b005d277912bb3695b8b53b19341a53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b005d277912bb3695b8b53b19341a53">&#9670;&nbsp;</a></span>AtomicInt32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespace_job.html#a2b005d277912bb3695b8b53b19341a53">Job::AtomicInt32</a> = typedef std::atomic_int32_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00086">86</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

</div>
</div>
<a id="ae159e934d8d1f329f729f24874234d40" name="ae159e934d8d1f329f729f24874234d40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae159e934d8d1f329f729f24874234d40">&#9670;&nbsp;</a></span>Byte</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespace_job.html#ae159e934d8d1f329f729f24874234d40">Job::Byte</a> = typedef unsigned char</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00087">87</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

</div>
</div>
<a id="a051e674ab31e8b9946de4990f3b4288b" name="a051e674ab31e8b9946de4990f3b4288b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a051e674ab31e8b9946de4990f3b4288b">&#9670;&nbsp;</a></span>AtomicTaskPtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespace_job.html#a051e674ab31e8b9946de4990f3b4288b">Job::AtomicTaskPtr</a> = typedef std::atomic&lt;<a class="el" href="struct_job_1_1_task_ptr.html">TaskPtr</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00115">115</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a686f6798e9f499e832cb9f125f0db5fb" name="a686f6798e9f499e832cb9f125f0db5fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a686f6798e9f499e832cb9f125f0db5fb">&#9670;&nbsp;</a></span>QueueType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">Job::QueueType</a> : std::uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines which threads the task will be allowed to run on. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051" name="a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051"></a>NORMAL&#160;</td><td class="fielddoc"><p >Tasks in this queue will run on either the main or worker threads. </p>
</td></tr>
<tr><td class="fieldname"><a id="a686f6798e9f499e832cb9f125f0db5fba186495f7da296bf880df3a22a492b378" name="a686f6798e9f499e832cb9f125f0db5fba186495f7da296bf880df3a22a492b378"></a>MAIN&#160;</td><td class="fielddoc"><p >Tasks in this queue will only be run by the main thread. </p>
</td></tr>
<tr><td class="fieldname"><a id="a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613" name="a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613"></a>WORKER&#160;</td><td class="fielddoc"><p >Tasks in this queue will never run on the main thread. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00045">45</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>  {</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <a class="code hl_enumvalue" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">NORMAL</a> = 0,  </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <a class="code hl_enumvalue" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba186495f7da296bf880df3a22a492b378">MAIN</a>   = 1,  </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <a class="code hl_enumvalue" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613">WORKER</a> = 2,  </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  };</div>
<div class="ttc" id="anamespace_job_html_a686f6798e9f499e832cb9f125f0db5fba186495f7da296bf880df3a22a492b378"><div class="ttname"><a href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba186495f7da296bf880df3a22a492b378">Job::QueueType::MAIN</a></div><div class="ttdeci">@ MAIN</div><div class="ttdoc">Tasks in this queue will only be run by the main thread.</div></div>
<div class="ttc" id="anamespace_job_html_a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051"><div class="ttname"><a href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">Job::QueueType::NORMAL</a></div><div class="ttdeci">@ NORMAL</div><div class="ttdoc">Tasks in this queue will run on either the main or worker threads.</div></div>
<div class="ttc" id="anamespace_job_html_a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613"><div class="ttname"><a href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613">Job::QueueType::WORKER</a></div><div class="ttdeci">@ WORKER</div><div class="ttdoc">Tasks in this queue will never run on the main thread.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af06568a1c2e63b5742b0569cd9afbb53" name="af06568a1c2e63b5742b0569cd9afbb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af06568a1c2e63b5742b0569cd9afbb53">&#9670;&nbsp;</a></span>SPMCDequeStatus</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53">Job::SPMCDequeStatus</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af06568a1c2e63b5742b0569cd9afbb53ad0749aaba8b833466dfcbb0428e4f89c" name="af06568a1c2e63b5742b0569cd9afbb53ad0749aaba8b833466dfcbb0428e4f89c"></a>SUCCESS&#160;</td><td class="fielddoc"><p >Returned from Push, Pop and Steal. </p>
</td></tr>
<tr><td class="fieldname"><a id="af06568a1c2e63b5742b0569cd9afbb53a0f399b49987022f02522e78b0401292d" name="af06568a1c2e63b5742b0569cd9afbb53a0f399b49987022f02522e78b0401292d"></a>FAILED_RACE&#160;</td><td class="fielddoc"><p >Returned from Pop and Steal. </p>
</td></tr>
<tr><td class="fieldname"><a id="af06568a1c2e63b5742b0569cd9afbb53abc99178083549fb2e0f99f59fea3a2b1" name="af06568a1c2e63b5742b0569cd9afbb53abc99178083549fb2e0f99f59fea3a2b1"></a>FAILED_SIZE&#160;</td><td class="fielddoc"><p >Returned from Push, Pop and Steal. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="job__queue_8hpp_source.html#l00229">229</a> of file <a class="el" href="job__queue_8hpp_source.html">job_queue.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>  {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <a class="code hl_enumvalue" href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53ad0749aaba8b833466dfcbb0428e4f89c">SUCCESS</a>,      </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <a class="code hl_enumvalue" href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53a0f399b49987022f02522e78b0401292d">FAILED_RACE</a>,  </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <a class="code hl_enumvalue" href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53abc99178083549fb2e0f99f59fea3a2b1">FAILED_SIZE</a>,  </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>  };</div>
<div class="ttc" id="anamespace_job_html_af06568a1c2e63b5742b0569cd9afbb53a0f399b49987022f02522e78b0401292d"><div class="ttname"><a href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53a0f399b49987022f02522e78b0401292d">Job::SPMCDequeStatus::FAILED_RACE</a></div><div class="ttdeci">@ FAILED_RACE</div><div class="ttdoc">Returned from Pop and Steal.</div></div>
<div class="ttc" id="anamespace_job_html_af06568a1c2e63b5742b0569cd9afbb53abc99178083549fb2e0f99f59fea3a2b1"><div class="ttname"><a href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53abc99178083549fb2e0f99f59fea3a2b1">Job::SPMCDequeStatus::FAILED_SIZE</a></div><div class="ttdeci">@ FAILED_SIZE</div><div class="ttdoc">Returned from Push, Pop and Steal.</div></div>
<div class="ttc" id="anamespace_job_html_af06568a1c2e63b5742b0569cd9afbb53ad0749aaba8b833466dfcbb0428e4f89c"><div class="ttname"><a href="namespace_job.html#af06568a1c2e63b5742b0569cd9afbb53ad0749aaba8b833466dfcbb0428e4f89c">Job::SPMCDequeStatus::SUCCESS</a></div><div class="ttdeci">@ SUCCESS</div><div class="ttdoc">Returned from Push, Pop and Steal.</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ada79d1288c5458f1451a414ec89d2ba6" name="ada79d1288c5458f1451a414ec89d2ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada79d1288c5458f1451a414ec89d2ba6">&#9670;&nbsp;</a></span>NumSystemThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t Job::NumSystemThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes some system calls to grab the number threads / processors on the device. This function can be called by any thread concurrently. </p>
<p >Can be called even if the job system has not been initialized.</p>
<dl class="section return"><dt>Returns</dt><dd>std::size_t The number threads / processors on the computer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00843">843</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>{</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span><span class="preprocessor">#if IS_SINGLE_THREADED</span></div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>  <span class="keyword">const</span> <span class="keyword">auto</span> n = std::thread::hardware_concurrency();</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>  <span class="keywordflow">return</span> n != 0 ? n : 1;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span> </div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span><span class="preprocessor">#if IS_WINDOWS</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    SYSTEM_INFO sysinfo;</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    GetSystemInfo(&amp;sysinfo);</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    <span class="keywordflow">return</span> sysinfo.dwNumberOfProcessors;</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span><span class="preprocessor">#elif IS_POSIX</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <span class="keywordflow">return</span> sysconf(_SC_NPROCESSORS_ONLN) <span class="comment">/* * 2*/</span>;</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="preprocessor">#elif 0  </span><span class="comment">// FreeBSD, MacOS X, NetBSD, OpenBSD</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    nt          mib[4];</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <span class="keywordtype">int</span>         numCPU;</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    std::size_t len = <span class="keyword">sizeof</span>(numCPU);</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span> </div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    <span class="comment">/* set the mib for hw.ncpu */</span></div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    mib[0] = CTL_HW;</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    mib[1] = HW_AVAILCPU;  <span class="comment">// alternatively, try HW_NCPU;</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span> </div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    <span class="comment">/* get the number of CPUs from the system */</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    sysctl(mib, 2, &amp;numCPU, &amp;len, NULL, 0);</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span> </div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <span class="keywordflow">if</span> (numCPU &lt; 1)</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    {</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>      mib[1] = HW_NCPU;</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>      sysctl(mib, 2, &amp;numCPU, &amp;len, NULL, 0);</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>      <span class="keywordflow">if</span> (numCPU &lt; 1)</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>        numCPU = 1;</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    }</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span> </div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <span class="keywordflow">return</span> numCPU;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span><span class="preprocessor">#elif 0  </span><span class="comment">// HPUX</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    <span class="keywordflow">return</span> mpctl(MPC_GETNUMSPUS, NULL, NULL);</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span><span class="preprocessor">#elif 0  </span><span class="comment">// IRIX</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="keywordflow">return</span> sysconf(_SC_NPROC_ONLN);</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span><span class="preprocessor">#elif 0  </span><span class="comment">// Objective-C (Mac OS X &gt;=10.5 or iOS)</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    NSUInteger a = [[NSProcessInfo processInfo] processorCount];</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    NSUInteger b = [[NSProcessInfo processInfo] activeProcessorCount];</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span> </div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    <span class="keywordflow">return</span> a;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span> </div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a398a7fd0221839f321c00864238b9ab2" name="a398a7fd0221839f321c00864238b9ab2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a398a7fd0221839f321c00864238b9ab2">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_job_1_1_initialization_token.html">Job::InitializationToken</a> Job::Initialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_job_1_1_job_system_memory_requirements.html">JobSystemMemoryRequirements</a> &amp;&#160;</td>
          <td class="paramname"><em>memory_requirements</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>memory</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets up the <a class="el" href="namespace_job.html">Job</a> system and creates all the worker threads. The thread that calls '<a class="el" href="namespace_job.html#a398a7fd0221839f321c00864238b9ab2" title="Sets up the Job system and creates all the worker threads. The thread that calls &#39;Job::Initialize&#39; is...">Job::Initialize</a>' is considered the main thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory_requirements</td><td>The customization parameters to initialize the system with. To be gotten from <code>Job::MemRequirementsForConfig</code>.</td></tr>
    <tr><td class="paramname">memory</td><td>Must be <code>memory_requirements.byte_size</code> in size and with alignment <code>memory_requirements.alignment</code>. If nullptr then the system heap will be used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="struct_job_1_1_initialization_token.html">InitializationToken</a></code> can be used by other subsystem to verify that the <a class="el" href="namespace_job.html">Job</a> System has been initialized. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00730">730</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>{</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(<a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a> == <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;Already initialized.&quot;</span>);</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span> </div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> needs_delete = memory == <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span> </div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>  <span class="keywordflow">if</span> (!memory)</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  {</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    memory = ::operator <span class="keyword">new</span>[](memory_requirements.<a class="code hl_variable" href="struct_job_1_1_job_system_memory_requirements.html#ac8d9a46abe68344e8cc1cb30cf57850d">byte_size</a>, std::align_val_t{memory_requirements.<a class="code hl_variable" href="struct_job_1_1_job_system_memory_requirements.html#a4176dfb73f1ddef41eee28f2e8a3ef78">alignment</a>});</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>  }</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span> </div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(memory != <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;memory must be a valid pointer.&quot;</span>);</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(IsPointerAligned(memory, memory_requirements.<a class="code hl_variable" href="struct_job_1_1_job_system_memory_requirements.html#a4176dfb73f1ddef41eee28f2e8a3ef78">alignment</a>), <span class="stringliteral">&quot;memory must be a aligned to `memory_requirements.alignment`.&quot;</span>);</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span> </div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>  <span class="keyword">const</span> <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_job_system_create_options">JobSystemCreateOptions</a>&amp; options              = memory_requirements.<a class="code hl_variable" href="struct_job_1_1_job_system_memory_requirements.html#a8680733748d10b7eb22bccef7eed89bd">options</a>;</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>  <span class="keyword">const</span> std::uint64_t           rng_seed             = options.<a class="code hl_variable" href="namespace_job.html#a0882adb15126b4fe2a94c21f744b6525">job_steal_rng_seed</a>;</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a>                num_threads          = config::WorkerCount(options);</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>  <span class="keyword">const</span> std::uint16_t           num_tasks_per_worker = config::NumTasksPerWorker(options);</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>  <span class="keyword">const</span> std::uint32_t           total_num_tasks      = config::TotalNumTasks(num_threads, num_tasks_per_worker);</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span> </div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>  <span class="keywordtype">void</span>*                  alloc_ptr        = memory;</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>  <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_job_system_context">JobSystemContext</a>*      job_system       = LinearAlloc&lt;JobSystemContext&gt;(alloc_ptr, 1u).ptr;</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>  Span&lt;ThreadLocalState&gt; all_workers      = LinearAlloc&lt;ThreadLocalState&gt;(alloc_ptr, num_threads);</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>  Span&lt;TaskMemoryBlock&gt;  all_tasks        = LinearAlloc&lt;TaskMemoryBlock&gt;(alloc_ptr, total_num_tasks);</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>  Span&lt;TaskPtr&gt;          main_tasks_ptrs  = LinearAlloc&lt;TaskPtr&gt;(alloc_ptr, options.<a class="code hl_variable" href="namespace_job.html#aa03f5b7291117b5e37a2a7f3f20d26d1">main_queue_size</a>);</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>  Span&lt;AtomicTaskPtr&gt;    worker_task_ptrs = LinearAlloc&lt;AtomicTaskPtr&gt;(alloc_ptr, total_num_tasks);</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>  Span&lt;TaskHandle&gt;       all_task_handles = LinearAlloc&lt;TaskHandle&gt;(alloc_ptr, total_num_tasks);</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span> </div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a049da5bae449544c7b17c3aceeee3a79">main_queue</a>.Initialize(SpanAlloc(&amp;main_tasks_ptrs, options.<a class="code hl_variable" href="namespace_job.html#aa03f5b7291117b5e37a2a7f3f20d26d1">main_queue_size</a>), options.<a class="code hl_variable" href="namespace_job.html#aa03f5b7291117b5e37a2a7f3f20d26d1">main_queue_size</a>);</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a7136616a9c9b73ef1f3ef9b28e75f76e">workers</a>              = all_workers.ptr;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a8c3b1e96a4c0f2e3a90b75dd8255dc3b">num_workers</a>          = num_threads;</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a938eecb18a6a3d6262aec76547e296ca">num_tasks_per_worker</a> = num_tasks_per_worker;</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a99e33c9b5b872813774ce73d839c23bd">sys_arch_str</a>         = <span class="stringliteral">&quot;Unknown Arch&quot;</span>;</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a9be19abdc70fad2d52894a42575fe0e6">num_available_jobs</a>.store(0, std::memory_order_relaxed);</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a6ed368a7c87ea03926bf80cfa2e47709">needs_delete</a>           = needs_delete;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#ac0ea66f39f501ceaded0e28236773fe2">system_alloc_size</a>      = memory_requirements.<a class="code hl_variable" href="struct_job_1_1_job_system_memory_requirements.html#ac8d9a46abe68344e8cc1cb30cf57850d">byte_size</a>;</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#aa640462a9e9997538a13538d1f63d026">system_alloc_alignment</a> = memory_requirements.<a class="code hl_variable" href="struct_job_1_1_job_system_memory_requirements.html#a4176dfb73f1ddef41eee28f2e8a3ef78">alignment</a>;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a0d5db0ce93f3106774a05370d8bde73d">init_lock</a>.<a class="code hl_variable" href="namespace_job.html#aa5e8e433ba17496dcee1ab1c057ee2b9">num_workers_ready</a>.store(1u, std::memory_order_relaxed);  <span class="comment">// Main thread already initialized.</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span><span class="preprocessor">#if IS_WINDOWS</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>  SYSTEM_INFO sysinfo;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>  GetSystemInfo(&amp;sysinfo);</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span> </div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>  <span class="keywordflow">switch</span> (sysinfo.wProcessorArchitecture)</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>  {</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    <span class="keywordflow">case</span> PROCESSOR_ARCHITECTURE_AMD64:</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    {</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>      job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a99e33c9b5b872813774ce73d839c23bd">sys_arch_str</a> = <span class="stringliteral">&quot;x64 (Intel or AMD)&quot;</span>;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    }</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    <span class="keywordflow">case</span> PROCESSOR_ARCHITECTURE_ARM:</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    {</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>      job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a99e33c9b5b872813774ce73d839c23bd">sys_arch_str</a> = <span class="stringliteral">&quot;ARM&quot;</span>;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    }</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <span class="keywordflow">case</span> PROCESSOR_ARCHITECTURE_ARM64:</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    {</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>      job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a99e33c9b5b872813774ce73d839c23bd">sys_arch_str</a> = <span class="stringliteral">&quot;ARM64&quot;</span>;</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    }</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <span class="keywordflow">case</span> PROCESSOR_ARCHITECTURE_IA64:</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>    {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>      job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a99e33c9b5b872813774ce73d839c23bd">sys_arch_str</a> = <span class="stringliteral">&quot;Intel Itanium-Based&quot;</span>;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    }</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>    <span class="keywordflow">case</span> PROCESSOR_ARCHITECTURE_INTEL:</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    {</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>      job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a99e33c9b5b872813774ce73d839c23bd">sys_arch_str</a> = <span class="stringliteral">&quot;Intel x86&quot;</span>;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    }</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <span class="keywordflow">case</span> PROCESSOR_ARCHITECTURE_UNKNOWN:</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    {</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>      job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a99e33c9b5b872813774ce73d839c23bd">sys_arch_str</a> = <span class="stringliteral">&quot;Unknown Arch&quot;</span>;</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    }</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>  }</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span> </div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>  <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a>* <span class="keyword">const</span> main_thread_worker = job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a7136616a9c9b73ef1f3ef9b28e75f76e">workers</a>;</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span> </div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>  <span class="keywordflow">for</span> (std::uint64_t worker_index = 0; worker_index &lt; num_threads; ++worker_index)</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>  {</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespaceworker.html">worker</a> = SpanAlloc(&amp;all_workers, 1u);</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;normal_queue.Initialize(SpanAlloc(&amp;worker_task_ptrs, options.<a class="code hl_variable" href="namespace_job.html#a65f68139b9fe13d51e749b62b85b5614">normal_queue_size</a>), options.<a class="code hl_variable" href="namespace_job.html#a65f68139b9fe13d51e749b62b85b5614">normal_queue_size</a>);</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;worker_queue.Initialize(SpanAlloc(&amp;worker_task_ptrs, options.<a class="code hl_variable" href="namespace_job.html#ad7f499ac9f75090b562e4d30afa070ed">worker_queue_size</a>), options.<a class="code hl_variable" href="namespace_job.html#ad7f499ac9f75090b562e4d30afa070ed">worker_queue_size</a>);</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <a class="code hl_function" href="namespace_job.html#a398a7fd0221839f321c00864238b9ab2">task_pool::Initialize</a>(&amp;<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;task_allocator, SpanAlloc(&amp;all_tasks, num_tasks_per_worker), num_tasks_per_worker);</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;allocated_tasks     = SpanAlloc(&amp;all_task_handles, num_tasks_per_worker);</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    <a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;num_allocated_tasks = 0u;</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    pcg32_srandom_r(&amp;<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;rng_state, worker_index + rng_seed, worker_index * 2u + 1u + rng_seed);</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    <a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;last_stolen_worker = main_thread_worker;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>  }</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span> </div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>  <a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a>     = job_system;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>  <a class="code hl_variable" href="job__system_8cpp.html#abfa74abcec62d6d1b3d06edec0cf3b0d">g_CurrentWorker</a> = main_thread_worker;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span> </div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>  std::atomic_thread_fence(std::memory_order_release);</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>  <span class="keywordflow">for</span> (std::uint64_t worker_index = 1; worker_index &lt; num_threads; ++worker_index)</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>  {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespaceworker.html">worker</a> = job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a7136616a9c9b73ef1f3ef9b28e75f76e">workers</a> + worker_index;</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    worker::InitializeThread(<a class="code hl_namespace" href="namespaceworker.html">worker</a>);</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>  }</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span> </div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(all_workers.num_elements == 0u, <span class="stringliteral">&quot;All elements expected to be allocated out.&quot;</span>);</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(all_tasks.num_elements == 0u, <span class="stringliteral">&quot;All elements expected to be allocated out.&quot;</span>);</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(main_tasks_ptrs.num_elements == 0u, <span class="stringliteral">&quot;All elements expected to be allocated out.&quot;</span>);</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(worker_task_ptrs.num_elements == 0u, <span class="stringliteral">&quot;All elements expected to be allocated out.&quot;</span>);</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(all_task_handles.num_elements == 0u, <span class="stringliteral">&quot;All elements expected to be allocated out.&quot;</span>);</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span> </div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>  <span class="keywordflow">return</span> <a class="code hl_struct" href="struct_job_1_1_initialization_token.html">Job::InitializationToken</a>{num_threads};</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>}</div>
<div class="ttc" id="ajob__assert_8hpp_html_a3c45a50fae3515f1fa7aa7def616e68f"><div class="ttname"><a href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a></div><div class="ttdeci">#define JobAssert(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="job__assert_8hpp_source.html#l00027">job_assert.hpp:27</a></div></div>
<div class="ttc" id="ajob__system_8cpp_html_abfa74abcec62d6d1b3d06edec0cf3b0d"><div class="ttname"><a href="job__system_8cpp.html#abfa74abcec62d6d1b3d06edec0cf3b0d">g_CurrentWorker</a></div><div class="ttdeci">static thread_local Job::ThreadLocalState * g_CurrentWorker</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00225">job_system.cpp:225</a></div></div>
<div class="ttc" id="ajob__system_8cpp_html_afb9d4821deb09320023a531d1cb87f58"><div class="ttname"><a href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a></div><div class="ttdeci">static Job::JobSystemContext * g_JobSystem</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00224">job_system.cpp:224</a></div></div>
<div class="ttc" id="anamespace_job_html_a049da5bae449544c7b17c3aceeee3a79"><div class="ttname"><a href="namespace_job.html#a049da5bae449544c7b17c3aceeee3a79">Job::JobSystemContext::main_queue</a></div><div class="ttdeci">LockedQueue&lt; TaskPtr &gt; main_queue</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00215">job_system.cpp:215</a></div></div>
<div class="ttc" id="anamespace_job_html_a0882adb15126b4fe2a94c21f744b6525"><div class="ttname"><a href="namespace_job.html#a0882adb15126b4fe2a94c21f744b6525">Job::JobSystemCreateOptions::job_steal_rng_seed</a></div><div class="ttdeci">std::uint64_t job_steal_rng_seed</div><div class="ttdoc">The RNG for work queue stealing will be seeded with this value.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00091">job_api.hpp:91</a></div></div>
<div class="ttc" id="anamespace_job_html_a0d5db0ce93f3106774a05370d8bde73d"><div class="ttname"><a href="namespace_job.html#a0d5db0ce93f3106774a05370d8bde73d">Job::JobSystemContext::init_lock</a></div><div class="ttdeci">InitializationLock init_lock</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00206">job_system.cpp:206</a></div></div>
<div class="ttc" id="anamespace_job_html_a398a7fd0221839f321c00864238b9ab2"><div class="ttname"><a href="namespace_job.html#a398a7fd0221839f321c00864238b9ab2">Job::Initialize</a></div><div class="ttdeci">InitializationToken Initialize(const JobSystemMemoryRequirements &amp;memory_requirements={}, void *const memory=nullptr) noexcept</div><div class="ttdoc">Sets up the Job system and creates all the worker threads. The thread that calls 'Job::Initialize' is...</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00730">job_system.cpp:730</a></div></div>
<div class="ttc" id="anamespace_job_html_a65f68139b9fe13d51e749b62b85b5614"><div class="ttname"><a href="namespace_job.html#a65f68139b9fe13d51e749b62b85b5614">Job::JobSystemCreateOptions::normal_queue_size</a></div><div class="ttdeci">std::uint16_t normal_queue_size</div><div class="ttdoc">Number of tasks in each worker's QueueType::NORMAL queue. (Must be power of two)</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00089">job_api.hpp:89</a></div></div>
<div class="ttc" id="anamespace_job_html_a6ed368a7c87ea03926bf80cfa2e47709"><div class="ttname"><a href="namespace_job.html#a6ed368a7c87ea03926bf80cfa2e47709">Job::JobSystemContext::needs_delete</a></div><div class="ttdeci">bool needs_delete</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00210">job_system.cpp:210</a></div></div>
<div class="ttc" id="anamespace_job_html_a7136616a9c9b73ef1f3ef9b28e75f76e"><div class="ttname"><a href="namespace_job.html#a7136616a9c9b73ef1f3ef9b28e75f76e">Job::JobSystemContext::workers</a></div><div class="ttdeci">ThreadLocalState * workers</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00203">job_system.cpp:203</a></div></div>
<div class="ttc" id="anamespace_job_html_a8c3b1e96a4c0f2e3a90b75dd8255dc3b"><div class="ttname"><a href="namespace_job.html#a8c3b1e96a4c0f2e3a90b75dd8255dc3b">Job::JobSystemContext::num_workers</a></div><div class="ttdeci">std::uint32_t num_workers</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00204">job_system.cpp:204</a></div></div>
<div class="ttc" id="anamespace_job_html_a938eecb18a6a3d6262aec76547e296ca"><div class="ttname"><a href="namespace_job.html#a938eecb18a6a3d6262aec76547e296ca">Job::JobSystemContext::num_tasks_per_worker</a></div><div class="ttdeci">std::uint32_t num_tasks_per_worker</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00205">job_system.cpp:205</a></div></div>
<div class="ttc" id="anamespace_job_html_a99e33c9b5b872813774ce73d839c23bd"><div class="ttname"><a href="namespace_job.html#a99e33c9b5b872813774ce73d839c23bd">Job::JobSystemContext::sys_arch_str</a></div><div class="ttdeci">const char * sys_arch_str</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00207">job_system.cpp:207</a></div></div>
<div class="ttc" id="anamespace_job_html_a9be19abdc70fad2d52894a42575fe0e6"><div class="ttname"><a href="namespace_job.html#a9be19abdc70fad2d52894a42575fe0e6">Job::JobSystemContext::num_available_jobs</a></div><div class="ttdeci">std::atomic_uint32_t num_available_jobs</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00218">job_system.cpp:218</a></div></div>
<div class="ttc" id="anamespace_job_html_aa03f5b7291117b5e37a2a7f3f20d26d1"><div class="ttname"><a href="namespace_job.html#aa03f5b7291117b5e37a2a7f3f20d26d1">Job::JobSystemCreateOptions::main_queue_size</a></div><div class="ttdeci">std::uint16_t main_queue_size</div><div class="ttdoc">Number of tasks in the job system's QueueType::MAIN queue. (Must be power of two)</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00088">job_api.hpp:88</a></div></div>
<div class="ttc" id="anamespace_job_html_aa5e8e433ba17496dcee1ab1c057ee2b9"><div class="ttname"><a href="namespace_job.html#aa5e8e433ba17496dcee1ab1c057ee2b9">Job::InitializationLock::num_workers_ready</a></div><div class="ttdeci">std::atomic_uint32_t num_workers_ready</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00196">job_system.cpp:196</a></div></div>
<div class="ttc" id="anamespace_job_html_aa640462a9e9997538a13538d1f63d026"><div class="ttname"><a href="namespace_job.html#aa640462a9e9997538a13538d1f63d026">Job::JobSystemContext::system_alloc_alignment</a></div><div class="ttdeci">std::size_t system_alloc_alignment</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00209">job_system.cpp:209</a></div></div>
<div class="ttc" id="anamespace_job_html_ac0ea66f39f501ceaded0e28236773fe2"><div class="ttname"><a href="namespace_job.html#ac0ea66f39f501ceaded0e28236773fe2">Job::JobSystemContext::system_alloc_size</a></div><div class="ttdeci">std::size_t system_alloc_size</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00208">job_system.cpp:208</a></div></div>
<div class="ttc" id="anamespace_job_html_ac7727f146165ae76b95cc50196df236e"><div class="ttname"><a href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">Job::WorkerID</a></div><div class="ttdeci">std::uint16_t WorkerID</div><div class="ttdoc">The id type of each worker thread.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00054">job_api.hpp:54</a></div></div>
<div class="ttc" id="anamespace_job_html_ad7f499ac9f75090b562e4d30afa070ed"><div class="ttname"><a href="namespace_job.html#ad7f499ac9f75090b562e4d30afa070ed">Job::JobSystemCreateOptions::worker_queue_size</a></div><div class="ttdeci">std::uint16_t worker_queue_size</div><div class="ttdoc">Number of tasks in each worker's QueueType::WORKER queue. (Must be power of two)</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00090">job_api.hpp:90</a></div></div>
<div class="ttc" id="anamespace_job_html_struct_job_1_1_job_system_context"><div class="ttname"><a href="namespace_job.html#struct_job_1_1_job_system_context">Job::JobSystemContext</a></div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00199">job_system.cpp:200</a></div></div>
<div class="ttc" id="anamespace_job_html_struct_job_1_1_job_system_create_options"><div class="ttname"><a href="namespace_job.html#struct_job_1_1_job_system_create_options">Job::JobSystemCreateOptions</a></div><div class="ttdoc">The runtime configuration for the Job System.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00085">job_api.hpp:86</a></div></div>
<div class="ttc" id="anamespace_job_html_struct_job_1_1_thread_local_state"><div class="ttname"><a href="namespace_job.html#struct_job_1_1_thread_local_state">Job::ThreadLocalState</a></div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00180">job_system.cpp:181</a></div></div>
<div class="ttc" id="anamespaceworker_html"><div class="ttname"><a href="namespaceworker.html">worker</a></div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00410">job_system.cpp:411</a></div></div>
<div class="ttc" id="astruct_job_1_1_initialization_token_html"><div class="ttname"><a href="struct_job_1_1_initialization_token.html">Job::InitializationToken</a></div><div class="ttdef"><b>Definition:</b> <a href="job__init__token_8hpp_source.html#l00022">job_init_token.hpp:23</a></div></div>
<div class="ttc" id="astruct_job_1_1_job_system_memory_requirements_html_a4176dfb73f1ddef41eee28f2e8a3ef78"><div class="ttname"><a href="struct_job_1_1_job_system_memory_requirements.html#a4176dfb73f1ddef41eee28f2e8a3ef78">Job::JobSystemMemoryRequirements::alignment</a></div><div class="ttdeci">std::size_t alignment</div><div class="ttdoc">The base alignment the pointer should be.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00102">job_api.hpp:102</a></div></div>
<div class="ttc" id="astruct_job_1_1_job_system_memory_requirements_html_a8680733748d10b7eb22bccef7eed89bd"><div class="ttname"><a href="struct_job_1_1_job_system_memory_requirements.html#a8680733748d10b7eb22bccef7eed89bd">Job::JobSystemMemoryRequirements::options</a></div><div class="ttdeci">const JobSystemCreateOptions options</div><div class="ttdoc">The options used to create the memory requirements.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00100">job_api.hpp:100</a></div></div>
<div class="ttc" id="astruct_job_1_1_job_system_memory_requirements_html_ac8d9a46abe68344e8cc1cb30cf57850d"><div class="ttname"><a href="struct_job_1_1_job_system_memory_requirements.html#ac8d9a46abe68344e8cc1cb30cf57850d">Job::JobSystemMemoryRequirements::byte_size</a></div><div class="ttdeci">std::size_t byte_size</div><div class="ttdoc">The number of bytes the job system needed.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00101">job_api.hpp:101</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l00225">g_CurrentWorker</a>, <a class="el" href="job__system_8cpp_source.html#l00224">g_JobSystem</a>, <a class="el" href="job__system_8cpp_source.html#l00206">Job::JobSystemContext::init_lock</a>, <a class="el" href="job__system_8cpp_source.html#l00730">Initialize()</a>, <a class="el" href="job__api_8hpp_source.html#l00091">Job::JobSystemCreateOptions::job_steal_rng_seed</a>, <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>, <a class="el" href="job__system_8cpp_source.html#l00215">Job::JobSystemContext::main_queue</a>, <a class="el" href="job__api_8hpp_source.html#l00088">Job::JobSystemCreateOptions::main_queue_size</a>, <a class="el" href="job__system_8cpp_source.html#l00210">Job::JobSystemContext::needs_delete</a>, <a class="el" href="job__api_8hpp_source.html#l00089">Job::JobSystemCreateOptions::normal_queue_size</a>, <a class="el" href="job__system_8cpp_source.html#l00218">Job::JobSystemContext::num_available_jobs</a>, <a class="el" href="job__system_8cpp_source.html#l00205">Job::JobSystemContext::num_tasks_per_worker</a>, <a class="el" href="job__system_8cpp_source.html#l00204">Job::JobSystemContext::num_workers</a>, <a class="el" href="job__system_8cpp_source.html#l00196">Job::InitializationLock::num_workers_ready</a>, <a class="el" href="job__system_8cpp_source.html#l00207">Job::JobSystemContext::sys_arch_str</a>, <a class="el" href="job__system_8cpp_source.html#l00209">Job::JobSystemContext::system_alloc_alignment</a>, <a class="el" href="job__system_8cpp_source.html#l00208">Job::JobSystemContext::system_alloc_size</a>, <a class="el" href="job__api_8hpp_source.html#l00090">Job::JobSystemCreateOptions::worker_queue_size</a>, and <a class="el" href="job__system_8cpp_source.html#l00203">Job::JobSystemContext::workers</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__system_8cpp_source.html#l00730">Initialize()</a>.</p>

</div>
</div>
<a id="a77a997446d916b36e7478c7627694a51" name="a77a997446d916b36e7478c7627694a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a997446d916b36e7478c7627694a51">&#9670;&nbsp;</a></span>ProcessorArchitectureName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * Job::ProcessorArchitectureName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An implementation defined name for the CPU architecture of the device. This function can be called by any thread concurrently. </p>
<dl class="section return"><dt>Returns</dt><dd>const char* Nul terminated name for the CPU architecture of the device. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00900">900</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>{</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a>-&gt;<a class="code hl_variable" href="namespace_job.html#a99e33c9b5b872813774ce73d839c23bd">sys_arch_str</a>;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l00224">g_JobSystem</a>, and <a class="el" href="job__system_8cpp_source.html#l00207">Job::JobSystemContext::sys_arch_str</a>.</p>

</div>
</div>
<a id="a5b606baa9964c9afd3e30294ccf7dc06" name="a5b606baa9964c9afd3e30294ccf7dc06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b606baa9964c9afd3e30294ccf7dc06">&#9670;&nbsp;</a></span>NumWorkers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::uint16_t Job::NumWorkers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of workers created by the system. This function can be called by any thread concurrently. </p>
<dl class="section return"><dt>Returns</dt><dd>std::size_t The number of workers created by the system. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00895">895</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>{</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>  <span class="keywordflow">return</span> std::uint16_t(<a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a>-&gt;<a class="code hl_variable" href="namespace_job.html#a8c3b1e96a4c0f2e3a90b75dd8255dc3b">num_workers</a>);</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l00224">g_JobSystem</a>, and <a class="el" href="job__system_8cpp_source.html#l00204">Job::JobSystemContext::num_workers</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__api_8hpp_source.html#l00554">Job::Splitter::EvenSplit()</a>, and <a class="el" href="job__system_8cpp_source.html#l01040">TaskSubmit()</a>.</p>

</div>
</div>
<a id="aaee5888463e3bb5cff3eff5f80d5265b" name="aaee5888463e3bb5cff3eff5f80d5265b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaee5888463e3bb5cff3eff5f80d5265b">&#9670;&nbsp;</a></span>CurrentWorker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a> Job::CurrentWorker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current id of the current thread. This function can be called by any thread concurrently. </p>
<p >The main thread will always be 0.</p>
<dl class="section return"><dt>Returns</dt><dd>WorkerID The current id of the current thread. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00905">905</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>{</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(<a class="code hl_variable" href="job__system_8cpp.html#abfa74abcec62d6d1b3d06edec0cf3b0d">g_CurrentWorker</a> != <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;This thread was not created by the job system.&quot;</span>);</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a>(<a class="code hl_variable" href="job__system_8cpp.html#abfa74abcec62d6d1b3d06edec0cf3b0d">g_CurrentWorker</a> - <a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a>-&gt;<a class="code hl_variable" href="namespace_job.html#a7136616a9c9b73ef1f3ef9b28e75f76e">workers</a>);</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l00225">g_CurrentWorker</a>, <a class="el" href="job__system_8cpp_source.html#l00224">g_JobSystem</a>, <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>, and <a class="el" href="job__system_8cpp_source.html#l00203">Job::JobSystemContext::workers</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__system_8cpp_source.html#l01110">WaitOnTask()</a>.</p>

</div>
</div>
<a id="a9d923fa374392c284942ea7d8f90e466" name="a9d923fa374392c284942ea7d8f90e466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d923fa374392c284942ea7d8f90e466">&#9670;&nbsp;</a></span>Shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::Shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This will deallocate any memory used by the system and shutdown any threads created by 'bfJob::initialize'. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function may only be called by the main thread. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00911">911</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>{</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(<a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a> != <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;Cannot shutdown when never initialized.&quot;</span>);</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span> </div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>  <span class="keyword">static_assert</span>(std::is_trivially_destructible_v&lt;TaskMemoryBlock&gt;, <span class="stringliteral">&quot;TaskMemoryBlock&#39;s destructor not called.&quot;</span>);</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>  <span class="keyword">static_assert</span>(std::is_trivially_destructible_v&lt;TaskPtr&gt;, <span class="stringliteral">&quot;TaskPtr&#39;s destructor not called.&quot;</span>);</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>  <span class="keyword">static_assert</span>(std::is_trivially_destructible_v&lt;AtomicTaskPtr&gt;, <span class="stringliteral">&quot;AtomicTaskPtr&#39;s destructor not called.&quot;</span>);</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>  <span class="keyword">static_assert</span>(std::is_trivially_destructible_v&lt;TaskHandle&gt;, <span class="stringliteral">&quot;TaskHandle&#39;s destructor not called.&quot;</span>);</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span> </div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>  <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_job_system_context">JobSystemContext</a>* <span class="keyword">const</span> job_system  = <a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a>;</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>  <span class="keyword">const</span> std::uint32_t     num_workers = job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a8c3b1e96a4c0f2e3a90b75dd8255dc3b">num_workers</a>;</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span> </div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>  job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a93ec86776cd50eb50948754288be9f7b">is_running</a>.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span> </div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>  <span class="comment">// Allow one last update loop to allow them to end.</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>  system::WakeUpAllWorkers();</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span> </div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>  <span class="keywordflow">for</span> (std::uint32_t i = 0; i &lt; num_workers; ++i)</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>  {</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespaceworker.html">worker</a> = job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a7136616a9c9b73ef1f3ef9b28e75f76e">workers</a> + i;</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span> </div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="keywordflow">if</span> (i != 0)</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    {</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>      worker::ShutdownThread(<a class="code hl_namespace" href="namespaceworker.html">worker</a>);</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    }</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span> </div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;~ThreadLocalState();</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>  }</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span> </div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> needs_delete = job_system-&gt;<a class="code hl_variable" href="namespace_job.html#a6ed368a7c87ea03926bf80cfa2e47709">needs_delete</a>;</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span> </div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>  job_system-&gt;~JobSystemContext();</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>  <a class="code hl_variable" href="job__system_8cpp.html#abfa74abcec62d6d1b3d06edec0cf3b0d">g_CurrentWorker</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>  <a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a>     = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span> </div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>  <span class="keywordflow">if</span> (needs_delete)</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>  {</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    ::operator <span class="keyword">delete</span>[](job_system, job_system-&gt;<a class="code hl_variable" href="namespace_job.html#ac0ea66f39f501ceaded0e28236773fe2">system_alloc_size</a>, std::align_val_t{job_system-&gt;system_alloc_alignment});</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>  }</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>}</div>
<div class="ttc" id="anamespace_job_html_a93ec86776cd50eb50948754288be9f7b"><div class="ttname"><a href="namespace_job.html#a93ec86776cd50eb50948754288be9f7b">Job::JobSystemContext::is_running</a></div><div class="ttdeci">std::atomic_bool is_running</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00211">job_system.cpp:211</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l00225">g_CurrentWorker</a>, <a class="el" href="job__system_8cpp_source.html#l00224">g_JobSystem</a>, <a class="el" href="job__system_8cpp_source.html#l00211">Job::JobSystemContext::is_running</a>, <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>, <a class="el" href="job__system_8cpp_source.html#l00210">Job::JobSystemContext::needs_delete</a>, <a class="el" href="job__system_8cpp_source.html#l00204">Job::JobSystemContext::num_workers</a>, <a class="el" href="job__system_8cpp_source.html#l00208">Job::JobSystemContext::system_alloc_size</a>, and <a class="el" href="job__system_8cpp_source.html#l00203">Job::JobSystemContext::workers</a>.</p>

</div>
</div>
<a id="a6a5491cbbe785588f2671f74b5d24380" name="a6a5491cbbe785588f2671f74b5d24380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a5491cbbe785588f2671f74b5d24380">&#9670;&nbsp;</a></span>TaskMake() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_job_1_1_task.html">Task</a> * Job::TaskMake </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_job.html#a2a553c2727a284305ddbc9d746e58267">TaskFn</a>&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>parent</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new <a class="el" href="struct_job_1_1_task.html">Task</a> that should be later submitted by calling 'TaskSubmit'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">function</td><td>The function you want run by the scheduler.</td></tr>
    <tr><td class="paramname">parent</td><td>An optional parent <a class="el" href="struct_job_1_1_task.html">Task</a> used in conjunction with 'WaitOnTask' to force dependencies.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Task* The newly created task. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00952">952</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>{</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a>          worker_id            = worker::GetCurrentID();</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>  <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespaceworker.html">worker</a>               = system::GetWorker(worker_id);</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>  <span class="keyword">const</span> std::uint32_t     max_tasks_per_worker = <a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a>-&gt;<a class="code hl_variable" href="namespace_job.html#a938eecb18a6a3d6262aec76547e296ca">num_tasks_per_worker</a>;</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span> </div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>  <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;num_allocated_tasks == max_tasks_per_worker)</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>  {</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    worker::GarbageCollectAllocatedTasks(<a class="code hl_namespace" href="namespaceworker.html">worker</a>);</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span> </div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;num_allocated_tasks == max_tasks_per_worker)</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    {</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>      <span class="comment">// While we cannot allocate do some work.</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>      system::WakeUpAllWorkers();</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>      <span class="keywordflow">while</span> (<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;num_allocated_tasks == max_tasks_per_worker)</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>      {</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>        worker::TryRunTask(<a class="code hl_namespace" href="namespaceworker.html">worker</a>);</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>        worker::GarbageCollectAllocatedTasks(<a class="code hl_namespace" href="namespaceworker.html">worker</a>);</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>      }</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    }</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>  }</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span> </div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;num_allocated_tasks &lt; max_tasks_per_worker, <span class="stringliteral">&quot;Too many tasks allocated.&quot;</span>);</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span> </div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>  <a class="code hl_struct" href="struct_job_1_1_task.html">Task</a>* <span class="keyword">const</span>      <a class="code hl_namespace" href="namespacetask.html">task</a>     = task_pool::AllocateTask(&amp;<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;task_allocator, worker_id, <span class="keyword">function</span>, task::PointerToTaskPtr(parent));</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a> task_hdl = task_pool::TaskToIndex(<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;task_allocator, <a class="code hl_namespace" href="namespacetask.html">task</a>);</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span> </div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>  <span class="keywordflow">if</span> (parent)</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>  {</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    parent-&gt;<a class="code hl_variable" href="struct_job_1_1_task.html#a7dd660a1f935e3c1b09c54e7d5e5c179">num_unfinished_tasks</a>.fetch_add(1u, std::memory_order_release);</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>  }</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span> </div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>  <a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;allocated_tasks[<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;num_allocated_tasks++] = task_hdl;</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span> </div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>  <span class="keywordflow">return</span> <a class="code hl_namespace" href="namespacetask.html">task</a>;</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>}</div>
<div class="ttc" id="anamespace_job_html_a66b4ae2d934892bb03f311c31506476e"><div class="ttname"><a href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">Job::TaskHandle</a></div><div class="ttdeci">std::uint16_t TaskHandle</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00082">job_system.cpp:82</a></div></div>
<div class="ttc" id="anamespacetask_html"><div class="ttname"><a href="namespacetask.html">task</a></div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00338">job_system.cpp:339</a></div></div>
<div class="ttc" id="astruct_job_1_1_task_html"><div class="ttname"><a href="struct_job_1_1_task.html">Job::Task</a></div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00135">job_system.cpp:136</a></div></div>
<div class="ttc" id="astruct_job_1_1_task_html_a7dd660a1f935e3c1b09c54e7d5e5c179"><div class="ttname"><a href="struct_job_1_1_task.html#a7dd660a1f935e3c1b09c54e7d5e5c179">Job::Task::num_unfinished_tasks</a></div><div class="ttdeci">AtomicInt32 num_unfinished_tasks</div><div class="ttdoc">The number of children tasks.</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00151">job_system.cpp:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l00224">g_JobSystem</a>, <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>, and <a class="el" href="job__system_8cpp_source.html#l00205">Job::JobSystemContext::num_tasks_per_worker</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__api_8hpp_source.html#l00613">ParallelFor()</a>, <a class="el" href="job__api_8hpp_source.html#l00734">ParallelInvoke()</a>, <a class="el" href="job__api_8hpp_source.html#l00635">ParallelReduce()</a>, and <a class="el" href="job__api_8hpp_source.html#l00484">TaskMake()</a>.</p>

</div>
</div>
<a id="a1786f2fd8c5c13f53d066bf4e029445c" name="a1786f2fd8c5c13f53d066bf4e029445c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1786f2fd8c5c13f53d066bf4e029445c">&#9670;&nbsp;</a></span>TaskGetData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_job.html#struct_job_1_1_task_data">TaskData</a> Job::TaskGetData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>alignment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns you the user-data buffer you way write to get data into your TaskFn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task whose user-data you want to grab.</td></tr>
    <tr><td class="paramname">alignment</td><td>The required alignment the returned pointer must have.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="namespace_job.html#struct_job_1_1_task_data" title="A buffer for user-data you can write to, maybe large enough to store task data inline.">TaskData</a> The user-data buffer you may read and write. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00989">989</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>{</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>  <a class="code hl_typedef" href="namespace_job.html#ae159e934d8d1f329f729f24874234d40">Byte</a>* <span class="keyword">const</span>       user_storage_start = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="namespace_job.html#ae159e934d8d1f329f729f24874234d40">Byte</a>*<span class="keyword">&gt;</span>(AlignPointer(<a class="code hl_namespace" href="namespacetask.html">task</a>-&gt;user_data + <a class="code hl_namespace" href="namespacetask.html">task</a>-&gt;user_data_start, alignment));</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_job.html#ae159e934d8d1f329f729f24874234d40">Byte</a>* <span class="keyword">const</span> user_storage_end   = std::end(<a class="code hl_namespace" href="namespacetask.html">task</a>-&gt;user_data);</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span> </div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>  <span class="keywordflow">if</span> (user_storage_start &lt;= user_storage_end)</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>  {</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    <span class="keyword">const</span> std::size_t user_storage_size = user_storage_end - user_storage_start;</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span> </div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>    <span class="keywordflow">return</span> {user_storage_start, user_storage_size};</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>  }</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span> </div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>  <span class="keywordflow">return</span> {<span class="keyword">nullptr</span>, 0u};</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>}</div>
<div class="ttc" id="anamespace_job_html_ae159e934d8d1f329f729f24874234d40"><div class="ttname"><a href="namespace_job.html#ae159e934d8d1f329f729f24874234d40">Job::Byte</a></div><div class="ttdeci">unsigned char Byte</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00087">job_system.cpp:87</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="job__api_8hpp_source.html#l00454">TaskDataAs()</a>, and <a class="el" href="job__api_8hpp_source.html#l00462">TaskEmplaceData()</a>.</p>

</div>
</div>
<a id="a381064dc945c407e9c80bf1685dd3ee7" name="a381064dc945c407e9c80bf1685dd3ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a381064dc945c407e9c80bf1685dd3ee7">&#9670;&nbsp;</a></span>TaskAddContinuation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::TaskAddContinuation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>continuation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a>&#160;</td>
          <td class="paramname"><em>queue</em> = <code><a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">QueueType::NORMAL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A 'continuation' is a task that will be added to a queue after the 'self' <a class="el" href="struct_job_1_1_task.html">Task</a> has finished running. </p>
<p >Continuations will be added to the same queue as the queue from the task that submits it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The task to add the 'continuation' to.</td></tr>
    <tr><td class="paramname">continuation</td><td>The <a class="el" href="struct_job_1_1_task.html">Task</a> to run after 'self' has finished. This task must not have already been submitted to a queue.</td></tr>
    <tr><td class="paramname">queue</td><td>The queue you want the task to run on. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l01004">1004</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>{</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(self-&gt;<a class="code hl_variable" href="struct_job_1_1_task.html#a40f07d88edbde168f40a127417678479">q_type</a> == <a class="code hl_variable" href="namespace_job.html#abb6be9ba0f23d0e66306290cd06d6089">k_InvalidQueueType</a>, <span class="stringliteral">&quot;The parent task should not have already been submitted to a queue.&quot;</span>);</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(continuation-&gt;<a class="code hl_variable" href="struct_job_1_1_task.html#a40f07d88edbde168f40a127417678479">q_type</a> == <a class="code hl_variable" href="namespace_job.html#abb6be9ba0f23d0e66306290cd06d6089">k_InvalidQueueType</a>, <span class="stringliteral">&quot;A continuation must not have already been submitted to a queue or already added as a continuation.&quot;</span>);</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(continuation-&gt;<a class="code hl_variable" href="struct_job_1_1_task.html#a681b839a90756660927d3b51dec543c9">next_continuation</a>.<a class="code hl_function" href="struct_job_1_1_task_ptr.html#a3846e4547990f401f74a5d7c4f354ff9">isNull</a>(), <span class="stringliteral">&quot;A continuation must not have already been added to another task.&quot;</span>);</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span> </div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_job_1_1_task_ptr.html">TaskPtr</a> new_head          = task::PointerToTaskPtr(continuation);</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>  continuation-&gt;<a class="code hl_variable" href="struct_job_1_1_task.html#a40f07d88edbde168f40a127417678479">q_type</a>            = queue;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>  continuation-&gt;<a class="code hl_variable" href="struct_job_1_1_task.html#a681b839a90756660927d3b51dec543c9">next_continuation</a> = <span class="keyword">self</span>-&gt;first_continuation.load(std::memory_order_relaxed);</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span> </div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>  <span class="keywordflow">while</span> (!std::atomic_compare_exchange_strong(&amp;self-&gt;<a class="code hl_variable" href="struct_job_1_1_task.html#a94f41088edb21e43187d4f38e06e9f3e">first_continuation</a>, &amp;continuation-&gt;<a class="code hl_variable" href="struct_job_1_1_task.html#a681b839a90756660927d3b51dec543c9">next_continuation</a>, new_head))</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>  {</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>  }</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>}</div>
<div class="ttc" id="anamespace_job_html_abb6be9ba0f23d0e66306290cd06d6089"><div class="ttname"><a href="namespace_job.html#abb6be9ba0f23d0e66306290cd06d6089">Job::k_InvalidQueueType</a></div><div class="ttdeci">static constexpr QueueType k_InvalidQueueType</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00078">job_system.cpp:78</a></div></div>
<div class="ttc" id="astruct_job_1_1_task_html_a40f07d88edbde168f40a127417678479"><div class="ttname"><a href="struct_job_1_1_task.html#a40f07d88edbde168f40a127417678479">Job::Task::q_type</a></div><div class="ttdeci">QueueType q_type</div><div class="ttdoc">The queue type this task has been submitted to, initialized to k_InvalidQueueType.</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00157">job_system.cpp:157</a></div></div>
<div class="ttc" id="astruct_job_1_1_task_html_a681b839a90756660927d3b51dec543c9"><div class="ttname"><a href="struct_job_1_1_task.html#a681b839a90756660927d3b51dec543c9">Job::Task::next_continuation</a></div><div class="ttdeci">TaskPtr next_continuation</div><div class="ttdoc">Next element in the linked list of continuations.</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00155">job_system.cpp:155</a></div></div>
<div class="ttc" id="astruct_job_1_1_task_html_a94f41088edb21e43187d4f38e06e9f3e"><div class="ttname"><a href="struct_job_1_1_task.html#a94f41088edb21e43187d4f38e06e9f3e">Job::Task::first_continuation</a></div><div class="ttdeci">AtomicTaskPtr first_continuation</div><div class="ttdoc">Head of linked list of tasks to be added on completion.</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00154">job_system.cpp:154</a></div></div>
<div class="ttc" id="astruct_job_1_1_task_ptr_html"><div class="ttname"><a href="struct_job_1_1_task_ptr.html">Job::TaskPtr</a></div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00093">job_system.cpp:94</a></div></div>
<div class="ttc" id="astruct_job_1_1_task_ptr_html_a3846e4547990f401f74a5d7c4f354ff9"><div class="ttname"><a href="struct_job_1_1_task_ptr.html#a3846e4547990f401f74a5d7c4f354ff9">Job::TaskPtr::isNull</a></div><div class="ttdeci">bool isNull() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00112">job_system.cpp:112</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>, and <a class="el" href="job__system_8cpp_source.html#l00078">k_InvalidQueueType</a>.</p>

</div>
</div>
<a id="a2b5a16b048e98b8a71dfc778d2c8f564" name="a2b5a16b048e98b8a71dfc778d2c8f564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5a16b048e98b8a71dfc778d2c8f564">&#9670;&nbsp;</a></span>TaskDataAs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T * Job::TaskDataAs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Grabs the user-data pointer as the T you specified. No safety is guaranteed, this is just a dumb cast. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type you want to receive the user-data buffer as.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task whose data you are retrieving.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>T&amp; The user-data buffer casted as a T. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00454">454</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>  {</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="keyword">const</span> <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_task_data">TaskData</a> data = <a class="code hl_function" href="namespace_job.html#a1786f2fd8c5c13f53d066bf4e029445c">TaskGetData</a>(<a class="code hl_namespace" href="namespacetask.html">task</a>, <span class="keyword">alignof</span>(T));</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="keywordflow">return</span> data.<a class="code hl_variable" href="namespace_job.html#a19841c4464efdc31fd3315982499ec87">size</a> &gt;= <span class="keyword">sizeof</span>(T) ? <span class="keyword">static_cast&lt;</span>T*<span class="keyword">&gt;</span>(data.<a class="code hl_variable" href="namespace_job.html#a206e9e451cca5c05ad02c69ad733d8f0">ptr</a>) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>  }</div>
<div class="ttc" id="anamespace_job_html_a1786f2fd8c5c13f53d066bf4e029445c"><div class="ttname"><a href="namespace_job.html#a1786f2fd8c5c13f53d066bf4e029445c">Job::TaskGetData</a></div><div class="ttdeci">TaskData TaskGetData(Task *const task, const std::size_t alignment) noexcept</div><div class="ttdoc">Returns you the user-data buffer you way write to get data into your TaskFn.</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00989">job_system.cpp:989</a></div></div>
<div class="ttc" id="anamespace_job_html_a19841c4464efdc31fd3315982499ec87"><div class="ttname"><a href="namespace_job.html#a19841c4464efdc31fd3315982499ec87">Job::TaskData::size</a></div><div class="ttdeci">std::size_t size</div><div class="ttdoc">The size of the buffer.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00181">job_api.hpp:181</a></div></div>
<div class="ttc" id="anamespace_job_html_a206e9e451cca5c05ad02c69ad733d8f0"><div class="ttname"><a href="namespace_job.html#a206e9e451cca5c05ad02c69ad733d8f0">Job::TaskData::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdoc">The start of the buffer you may write to.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00180">job_api.hpp:180</a></div></div>
<div class="ttc" id="anamespace_job_html_struct_job_1_1_task_data"><div class="ttname"><a href="namespace_job.html#struct_job_1_1_task_data">Job::TaskData</a></div><div class="ttdoc">A buffer for user-data you can write to, maybe large enough to store task data inline.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00178">job_api.hpp:179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__api_8hpp_source.html#l00180">Job::TaskData::ptr</a>, <a class="el" href="job__api_8hpp_source.html#l00181">Job::TaskData::size</a>, and <a class="el" href="job__system_8cpp_source.html#l00989">TaskGetData()</a>.</p>

</div>
</div>
<a id="aab93a1aea2b502fd2657cc30d0540e68" name="aab93a1aea2b502fd2657cc30d0540e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab93a1aea2b502fd2657cc30d0540e68">&#9670;&nbsp;</a></span>TaskEmplaceData()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Job::TaskEmplaceData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls the constructor of T on the user-data buffer. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of T you want constructed in-place into the user-data buffer.</td></tr>
    <tr><td class="paramname">Args</td><td>The Argument types passed into the T constructor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task whose user-data buffer is affected.</td></tr>
    <tr><td class="paramname">args</td><td>The arguments passed into the constructor of the user-data buffer casted as a T. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00462">462</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>  {</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <span class="keyword">const</span> <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_task_data">TaskData</a> data = <a class="code hl_function" href="namespace_job.html#a1786f2fd8c5c13f53d066bf4e029445c">TaskGetData</a>(<a class="code hl_namespace" href="namespacetask.html">task</a>, <span class="keyword">alignof</span>(T));</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span> </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(data.<a class="code hl_variable" href="namespace_job.html#a19841c4464efdc31fd3315982499ec87">size</a> &gt;= <span class="keyword">sizeof</span>(T), <span class="stringliteral">&quot;Attempting to store an object too large to fit within a task&#39;s storage buffer.&quot;</span>);</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <span class="keyword">new</span> (data.<a class="code hl_variable" href="namespace_job.html#a206e9e451cca5c05ad02c69ad733d8f0">ptr</a>) T(std::forward&lt;Args&gt;(args)...);</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>, <a class="el" href="job__api_8hpp_source.html#l00180">Job::TaskData::ptr</a>, <a class="el" href="job__api_8hpp_source.html#l00181">Job::TaskData::size</a>, and <a class="el" href="job__system_8cpp_source.html#l00989">TaskGetData()</a>.</p>

</div>
</div>
<a id="a7ba53682d46eec5bdeab726d5648a2ce" name="a7ba53682d46eec5bdeab726d5648a2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba53682d46eec5bdeab726d5648a2ce">&#9670;&nbsp;</a></span>TaskSetData()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Job::TaskSetData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies 'data' into the user-data buffer by calling the T copy constructor. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The data type that will be emplaced into the user-data buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task whose user-data buffer is affected.</td></tr>
    <tr><td class="paramname">data</td><td>The data copied into the user-data buffer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00472">472</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>  {</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    TaskEmplaceData&lt;T&gt;(<a class="code hl_namespace" href="namespacetask.html">task</a>, data);</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb32793271df92bd2ed13f1a6455f592" name="aeb32793271df92bd2ed13f1a6455f592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb32793271df92bd2ed13f1a6455f592">&#9670;&nbsp;</a></span>TaskDestructData()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Job::TaskDestructData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper for calling destructor on the task's user data. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The expected type of the data, called ~T on the user data buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task whose user-data buffer is affected. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00478">478</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>  {</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    TaskDataAs&lt;T&gt;(<a class="code hl_namespace" href="namespacetask.html">task</a>)-&gt;~T();</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a76170415e85eea5113a606a878a7dcf9" name="a76170415e85eea5113a606a878a7dcf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76170415e85eea5113a606a878a7dcf9">&#9670;&nbsp;</a></span>TaskMake() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Closure &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_job_1_1_task.html">Task</a> * Job::TaskMake </td>
          <td>(</td>
          <td class="paramtype">Closure &amp;&amp;&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>parent</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new task making a copy of the closure. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Closure</td><td>The type of the callable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">function</td><td>The non pointer callable you want to store.</td></tr>
    <tr><td class="paramname">parent</td><td>An optional parent <a class="el" href="struct_job_1_1_task.html">Task</a> used in conjunction with 'WaitOnTask' to force dependencies.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Task* The newly created task. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00484">484</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>  {</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <a class="code hl_struct" href="struct_job_1_1_task.html">Task</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespacetask.html">task</a> = <a class="code hl_function" href="namespace_job.html#a76170415e85eea5113a606a878a7dcf9">TaskMake</a>(</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>     +[](<a class="code hl_struct" href="struct_job_1_1_task.html">Task</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespacetask.html">task</a>) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>       Closure&amp; <span class="keyword">function</span> = *<span class="keyword">static_cast&lt;</span>Closure*<span class="keyword">&gt;</span>(<a class="code hl_function" href="namespace_job_1_1detail.html#a66102c88da40e2c6b008bc97259d0d39">detail::taskGetPrivateUserData</a>(<a class="code hl_namespace" href="namespacetask.html">task</a>, <span class="keyword">alignof</span>(Closure)));</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>       <span class="keyword">function</span>(<a class="code hl_namespace" href="namespacetask.html">task</a>);</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>       <span class="keyword">function</span>.~Closure();</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>     },</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>     parent);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    <span class="keywordtype">void</span>* <span class="keyword">const</span> private_data = <a class="code hl_function" href="namespace_job_1_1detail.html#a5ed74505a8477781f8e252f6f05755ca">detail::taskReservePrivateUserData</a>(<a class="code hl_namespace" href="namespacetask.html">task</a>, <span class="keyword">sizeof</span>(Closure), <span class="keyword">alignof</span>(Closure));</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    <span class="keyword">new</span> (private_data) Closure(std::forward&lt;Closure&gt;(<span class="keyword">function</span>));</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span> </div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="keywordflow">return</span> <a class="code hl_namespace" href="namespacetask.html">task</a>;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>  }</div>
<div class="ttc" id="anamespace_job_1_1detail_html_a5ed74505a8477781f8e252f6f05755ca"><div class="ttname"><a href="namespace_job_1_1detail.html#a5ed74505a8477781f8e252f6f05755ca">Job::detail::taskReservePrivateUserData</a></div><div class="ttdeci">void * taskReservePrivateUserData(Task *const task, const std::size_t num_bytes, const std::size_t alignment) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l01191">job_system.cpp:1191</a></div></div>
<div class="ttc" id="anamespace_job_1_1detail_html_a66102c88da40e2c6b008bc97259d0d39"><div class="ttname"><a href="namespace_job_1_1detail.html#a66102c88da40e2c6b008bc97259d0d39">Job::detail::taskGetPrivateUserData</a></div><div class="ttdeci">void * taskGetPrivateUserData(Task *const task, const std::size_t alignment) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l01186">job_system.cpp:1186</a></div></div>
<div class="ttc" id="anamespace_job_html_a76170415e85eea5113a606a878a7dcf9"><div class="ttname"><a href="namespace_job.html#a76170415e85eea5113a606a878a7dcf9">Job::TaskMake</a></div><div class="ttdeci">Task * TaskMake(Closure &amp;&amp;function, Task *const parent=nullptr)</div><div class="ttdoc">Creates a new task making a copy of the closure.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00484">job_api.hpp:484</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l01186">Job::detail::taskGetPrivateUserData()</a>, <a class="el" href="job__system_8cpp_source.html#l00952">TaskMake()</a>, and <a class="el" href="job__system_8cpp_source.html#l01191">Job::detail::taskReservePrivateUserData()</a>.</p>

</div>
</div>
<a id="ab933882d5d7f7e4ba7c0fd63e2966f11" name="ab933882d5d7f7e4ba7c0fd63e2966f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab933882d5d7f7e4ba7c0fd63e2966f11">&#9670;&nbsp;</a></span>TaskIncRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::TaskIncRef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments the task's ref count preventing it from being garbage collected. </p>
<p >This function should be called before <code>taskSubmit</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task's who's ref count should be incremented. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l01019">1019</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>{</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>  <span class="keyword">const</span> <span class="keyword">auto</span> old_ref_count = <a class="code hl_namespace" href="namespacetask.html">task</a>-&gt;ref_count.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span> </div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(old_ref_count &gt;= std::int16_t(1) || <a class="code hl_namespace" href="namespacetask.html">task</a>-&gt;q_type == <a class="code hl_variable" href="namespace_job.html#abb6be9ba0f23d0e66306290cd06d6089">k_InvalidQueueType</a>, <span class="stringliteral">&quot;First call to taskIncRef should not happen after the task has been submitted.&quot;</span>);</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>  (void)old_ref_count;</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>, and <a class="el" href="job__system_8cpp_source.html#l00078">k_InvalidQueueType</a>.</p>

</div>
</div>
<a id="ad9be65ab1c2925023348fbdfcbf9fe0d" name="ad9be65ab1c2925023348fbdfcbf9fe0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9be65ab1c2925023348fbdfcbf9fe0d">&#9670;&nbsp;</a></span>TaskDecRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::TaskDecRef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrements the task's ref count allow it to be garbage collected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task's who's ref count should be decremented. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l01027">1027</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>{</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>  <span class="keyword">const</span> <span class="keyword">auto</span> old_ref_count = <a class="code hl_namespace" href="namespacetask.html">task</a>-&gt;ref_count.fetch_sub(1, std::memory_order_relaxed);</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span> </div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(old_ref_count &gt;= 0, <span class="stringliteral">&quot;taskDecRef: Called too many times.&quot;</span>);</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>  (void)old_ref_count;</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>.</p>

</div>
</div>
<a id="afa9f7e7a737f1babc1345e4ceaf64e79" name="afa9f7e7a737f1babc1345e4ceaf64e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa9f7e7a737f1babc1345e4ceaf64e79">&#9670;&nbsp;</a></span>TaskIsDone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Job::TaskIsDone </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the done status of the task. </p>
<p >This is only safe to call after submitting the task if you have an active reference to the task through a call to TaskIncRef.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to check whether or not it's done.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true - The task is done running. false - The task is still running.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="namespace_job.html#ab933882d5d7f7e4ba7c0fd63e2966f11" title="Increments the task&#39;s ref count preventing it from being garbage collected.">TaskIncRef</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l01035">1035</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>{</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>  <span class="keywordflow">return</span> <a class="code hl_namespace" href="namespacetask.html">task</a>-&gt;num_unfinished_tasks.load(std::memory_order_acquire) == -1;</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="job__system_8cpp_source.html#l01110">WaitOnTask()</a>.</p>

</div>
</div>
<a id="ada20ebf3082f8aea7b75afc210d7621b" name="ada20ebf3082f8aea7b75afc210d7621b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada20ebf3082f8aea7b75afc210d7621b">&#9670;&nbsp;</a></span>TickMainQueue() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConditionFn &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::TickMainQueue </td>
          <td>(</td>
          <td class="paramtype">ConditionFn &amp;&amp;&#160;</td>
          <td class="paramname"><em>condition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs tasks from the main queue as long as there are tasks available and <code>condition</code> returns true. </p>
<p >This function is not required to be called since the main queue will be evaluated during other calls to this API but allows for an easy way to flush the main queue guaranteeing a minimum latency.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ConditionFn</td><td>The type of the callable. Must be callable like: <code>bool operator()(void);</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">condition</td><td>The function object indicating if the main queue should continue being evaluated. Will be called after a task has been completed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Must only be called from the main thread. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00372">372</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>  {</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <span class="keywordflow">do</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespace_job_1_1detail.html#a8209af0db62c504d004ec94bf3889442">detail::mainQueueTryRunTask</a>())</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>      {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>      }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    } <span class="keywordflow">while</span> (condition());</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  }</div>
<div class="ttc" id="anamespace_job_1_1detail_html_a8209af0db62c504d004ec94bf3889442"><div class="ttname"><a href="namespace_job_1_1detail.html#a8209af0db62c504d004ec94bf3889442">Job::detail::mainQueueTryRunTask</a></div><div class="ttdeci">bool mainQueueTryRunTask(void) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l01204">job_system.cpp:1204</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l01204">Job::detail::mainQueueTryRunTask()</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__api_8hpp_source.html#l00393">TickMainQueue()</a>.</p>

</div>
</div>
<a id="a0f5c158177872f256a96aba479a04b0f" name="a0f5c158177872f256a96aba479a04b0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5c158177872f256a96aba479a04b0f">&#9670;&nbsp;</a></span>TickMainQueue() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::TickMainQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs tasks from the main queue until it is empty. </p>
<p >This function is not required to be called since the main queue will be evaluated during other calls to this API but allows for an easy way to flush the main queue guaranteeing a minimum latency.</p>
<dl class="section warning"><dt>Warning</dt><dd>Must only be called from the main thread. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00393">393</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>  {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <a class="code hl_function" href="namespace_job.html#a0f5c158177872f256a96aba479a04b0f">TickMainQueue</a>([]() { <span class="keywordflow">return</span> <span class="keyword">true</span>; });</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  }</div>
<div class="ttc" id="anamespace_job_html_a0f5c158177872f256a96aba479a04b0f"><div class="ttname"><a href="namespace_job.html#a0f5c158177872f256a96aba479a04b0f">Job::TickMainQueue</a></div><div class="ttdeci">void TickMainQueue() noexcept</div><div class="ttdoc">Runs tasks from the main queue until it is empty.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00393">job_api.hpp:393</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__api_8hpp_source.html#l00372">TickMainQueue()</a>.</p>

</div>
</div>
<a id="ae3e34b8468f9b731c3a56b6848587f4d" name="ae3e34b8468f9b731c3a56b6848587f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3e34b8468f9b731c3a56b6848587f4d">&#9670;&nbsp;</a></span>TaskSubmit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::TaskSubmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a>&#160;</td>
          <td class="paramname"><em>queue</em> = <code><a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">QueueType::NORMAL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Submits the task to the specified queue. </p>
<p >The <a class="el" href="struct_job_1_1_task.html">Task</a> is not required to have been created on the same thread that submits.</p>
<p >You may now wait on this task using 'WaitOnTask'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The task to submit.</td></tr>
    <tr><td class="paramname">queue</td><td>The queue you want the task to run on. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l01040">1040</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>{</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(self-&gt;<a class="code hl_variable" href="struct_job_1_1_task.html#a40f07d88edbde168f40a127417678479">q_type</a> == <a class="code hl_variable" href="namespace_job.html#abb6be9ba0f23d0e66306290cd06d6089">k_InvalidQueueType</a>, <span class="stringliteral">&quot;A task cannot be submitted to a queue multiple times.&quot;</span>);</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span> </div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a> num_workers = <a class="code hl_function" href="namespace_job.html#a5b606baa9964c9afd3e30294ccf7dc06">NumWorkers</a>();</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span> </div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>  <span class="comment">// If we only have one thread running using the worker queue is invalid.</span></div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>  <span class="keywordflow">if</span> (num_workers == 1u &amp;&amp; queue == QueueType::WORKER)</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>  {</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    queue = QueueType::NORMAL;</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>  }</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span> </div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>  <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespaceworker.html">worker</a>   = worker::GetCurrent();</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_job_1_1_task_ptr.html">TaskPtr</a>           task_ptr = task::PointerToTaskPtr(<span class="keyword">self</span>);</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span> </div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>  <span class="keyword">self</span>-&gt;q_type = queue;</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span> </div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>  <span class="keywordflow">switch</span> (queue)</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>  {</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    <span class="keywordflow">case</span> QueueType::NORMAL:</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    {</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>      task::SubmitQPushHelper(task_ptr, <a class="code hl_namespace" href="namespaceworker.html">worker</a>, &amp;<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;normal_queue);</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>    }</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    <span class="keywordflow">case</span> QueueType::MAIN:</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    {</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>      <a class="code hl_class" href="class_job_1_1_locked_queue.html">LockedQueue&lt;TaskPtr&gt;</a>* <span class="keyword">const</span> main_queue = &amp;<a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a>-&gt;<a class="code hl_variable" href="namespace_job.html#a049da5bae449544c7b17c3aceeee3a79">main_queue</a>;</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span> </div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>      <span class="comment">// NOTE(SR):</span></div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>      <span class="comment">//   The only way `main_queue` will be emptied</span></div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>      <span class="comment">//   is by the main thread, so there is a chance</span></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>      <span class="comment">//   that if it does not get flushed frequently</span></div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>      <span class="comment">//   enough then we have a this thread spinning indefinitely.</span></div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>      <span class="comment">//</span></div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>      <span class="keywordflow">while</span> (!main_queue-&gt;<a class="code hl_function" href="class_job_1_1_locked_queue.html#adeed04ef8e969b07b93f98474487ec07">Push</a>(task_ptr))</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>      {</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>        <span class="comment">// If we could not push to the queue then just do some work.</span></div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>        worker::TryRunTask(<a class="code hl_namespace" href="namespaceworker.html">worker</a>);</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>      }</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    }</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    <span class="keywordflow">case</span> QueueType::WORKER:</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>    {</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>      task::SubmitQPushHelper(task_ptr, <a class="code hl_namespace" href="namespaceworker.html">worker</a>, &amp;<a class="code hl_namespace" href="namespaceworker.html">worker</a>-&gt;worker_queue);</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>    }</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span><span class="preprocessor">#if defined(__GNUC__)  </span><span class="comment">// GCC, Clang, ICC</span></div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>      __builtin_unreachable();</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span><span class="preprocessor">#elif defined(_MSC_VER)  </span><span class="comment">// MSVC</span></div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>      <span class="keyword">__assume</span>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>  }</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span> </div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>  <span class="keywordflow">if</span> (queue != QueueType::MAIN)</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>  {</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    <span class="keyword">const</span> std::int32_t num_pending_jobs = <a class="code hl_variable" href="job__system_8cpp.html#afb9d4821deb09320023a531d1cb87f58">g_JobSystem</a>-&gt;<a class="code hl_variable" href="namespace_job.html#a9be19abdc70fad2d52894a42575fe0e6">num_available_jobs</a>.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span> </div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>    <span class="keywordflow">if</span> (num_pending_jobs &gt;= num_workers)</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    {</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>      system::WakeUpAllWorkers();</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    }</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>    {</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>      system::WakeUpOneWorker();</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>    }</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>  }</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>}</div>
<div class="ttc" id="aclass_job_1_1_locked_queue_html"><div class="ttname"><a href="class_job_1_1_locked_queue.html">Job::LockedQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="job__queue_8hpp_source.html#l00034">job_queue.hpp:35</a></div></div>
<div class="ttc" id="aclass_job_1_1_locked_queue_html_adeed04ef8e969b07b93f98474487ec07"><div class="ttname"><a href="class_job_1_1_locked_queue.html#adeed04ef8e969b07b93f98474487ec07">Job::LockedQueue::Push</a></div><div class="ttdeci">bool Push(const T &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="job__queue_8hpp_source.html#l00059">job_queue.hpp:59</a></div></div>
<div class="ttc" id="anamespace_job_html_a5b606baa9964c9afd3e30294ccf7dc06"><div class="ttname"><a href="namespace_job.html#a5b606baa9964c9afd3e30294ccf7dc06">Job::NumWorkers</a></div><div class="ttdeci">std::uint16_t NumWorkers() noexcept</div><div class="ttdoc">Returns the number of workers created by the system. This function can be called by any thread concur...</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00895">job_system.cpp:895</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l00224">g_JobSystem</a>, <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>, <a class="el" href="job__system_8cpp_source.html#l00078">k_InvalidQueueType</a>, <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba186495f7da296bf880df3a22a492b378">MAIN</a>, <a class="el" href="job__system_8cpp_source.html#l00215">Job::JobSystemContext::main_queue</a>, <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">NORMAL</a>, <a class="el" href="job__system_8cpp_source.html#l00218">Job::JobSystemContext::num_available_jobs</a>, <a class="el" href="job__system_8cpp_source.html#l00895">NumWorkers()</a>, <a class="el" href="job__queue_8hpp_source.html#l00059">Job::LockedQueue&lt; T &gt;::Push()</a>, and <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613">WORKER</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__api_8hpp_source.html#l00613">ParallelFor()</a>, <a class="el" href="job__api_8hpp_source.html#l00734">ParallelInvoke()</a>, and <a class="el" href="job__system_8cpp_source.html#l01127">TaskSubmitAndWait()</a>.</p>

</div>
</div>
<a id="a2961eee80e34c41deade7924657154b8" name="a2961eee80e34c41deade7924657154b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2961eee80e34c41deade7924657154b8">&#9670;&nbsp;</a></span>WaitOnTask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::WaitOnTask </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Waits until the specified <code>task</code> is done executing. This function will block but do work while being blocked so there is no wasted time. </p>
<p >You may only call this function with a task created on the current 'Worker'.</p>
<p >It is a logic error to call this function on a task that has not been submitted (<a class="el" href="namespace_job.html#ae3e34b8468f9b731c3a56b6848587f4d">TaskSubmit</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to wait to finish executing. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l01110">1110</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>{</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">WorkerID</a> worker_id = <a class="code hl_function" href="namespace_job.html#aaee5888463e3bb5cff3eff5f80d5265b">CurrentWorker</a>();</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span> </div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(<a class="code hl_namespace" href="namespacetask.html">task</a>-&gt;q_type != <a class="code hl_variable" href="namespace_job.html#abb6be9ba0f23d0e66306290cd06d6089">k_InvalidQueueType</a>, <span class="stringliteral">&quot;The Task must be submitted to a queue before you wait on it.&quot;</span>);</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>  <a class="code hl_define" href="job__assert_8hpp.html#a3c45a50fae3515f1fa7aa7def616e68f">JobAssert</a>(<a class="code hl_namespace" href="namespacetask.html">task</a>-&gt;owning_worker == worker_id, <span class="stringliteral">&quot;You may only call this function with a task created on the current &#39;Worker&#39;.&quot;</span>);</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span> </div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>  system::WakeUpAllWorkers();</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>  <a class="code hl_struct" href="namespace_job.html#struct_job_1_1_thread_local_state">ThreadLocalState</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespaceworker.html">worker</a> = system::GetWorker(worker_id);</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span> </div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>  <span class="keywordflow">while</span> (!<a class="code hl_function" href="namespace_job.html#afa9f7e7a737f1babc1345e4ceaf64e79">TaskIsDone</a>(<a class="code hl_namespace" href="namespacetask.html">task</a>))</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>  {</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>    worker::TryRunTask(<a class="code hl_namespace" href="namespaceworker.html">worker</a>);</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>  }</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>}</div>
<div class="ttc" id="anamespace_job_html_aaee5888463e3bb5cff3eff5f80d5265b"><div class="ttname"><a href="namespace_job.html#aaee5888463e3bb5cff3eff5f80d5265b">Job::CurrentWorker</a></div><div class="ttdeci">WorkerID CurrentWorker() noexcept</div><div class="ttdoc">The current id of the current thread. This function can be called by any thread concurrently.</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l00905">job_system.cpp:905</a></div></div>
<div class="ttc" id="anamespace_job_html_afa9f7e7a737f1babc1345e4ceaf64e79"><div class="ttname"><a href="namespace_job.html#afa9f7e7a737f1babc1345e4ceaf64e79">Job::TaskIsDone</a></div><div class="ttdeci">bool TaskIsDone(const Task *const task) noexcept</div><div class="ttdoc">Returns the done status of the task.</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l01035">job_system.cpp:1035</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l00905">CurrentWorker()</a>, <a class="el" href="job__assert_8hpp_source.html#l00027">JobAssert</a>, <a class="el" href="job__system_8cpp_source.html#l00078">k_InvalidQueueType</a>, and <a class="el" href="job__system_8cpp_source.html#l01035">TaskIsDone()</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__system_8cpp_source.html#l01127">TaskSubmitAndWait()</a>.</p>

</div>
</div>
<a id="a21ff0cc938b7cd7efc74be4e7c82ed74" name="a21ff0cc938b7cd7efc74be4e7c82ed74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ff0cc938b7cd7efc74be4e7c82ed74">&#9670;&nbsp;</a></span>TaskSubmitAndWait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::TaskSubmitAndWait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a>&#160;</td>
          <td class="paramname"><em>queue</em> = <code><a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">QueueType::NORMAL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Same as calling <code>taskSubmit</code> followed by <code>waitOnTask</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The task to submit and wait to finish executing.</td></tr>
    <tr><td class="paramname">queue</td><td>The queue you want the task to run on. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l01127">1127</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>{</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>  <a class="code hl_function" href="namespace_job.html#ae3e34b8468f9b731c3a56b6848587f4d">TaskSubmit</a>(<span class="keyword">self</span>, queue);</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>  <a class="code hl_function" href="namespace_job.html#a2961eee80e34c41deade7924657154b8">WaitOnTask</a>(<span class="keyword">self</span>);</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>}</div>
<div class="ttc" id="anamespace_job_html_a2961eee80e34c41deade7924657154b8"><div class="ttname"><a href="namespace_job.html#a2961eee80e34c41deade7924657154b8">Job::WaitOnTask</a></div><div class="ttdeci">void WaitOnTask(const Task *const task) noexcept</div><div class="ttdoc">Waits until the specified task is done executing. This function will block but do work while being bl...</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l01110">job_system.cpp:1110</a></div></div>
<div class="ttc" id="anamespace_job_html_ae3e34b8468f9b731c3a56b6848587f4d"><div class="ttname"><a href="namespace_job.html#ae3e34b8468f9b731c3a56b6848587f4d">Job::TaskSubmit</a></div><div class="ttdeci">void TaskSubmit(Task *const self, const QueueType queue=QueueType::NORMAL) noexcept</div><div class="ttdoc">Submits the task to the specified queue.</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l01040">job_system.cpp:1040</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l01040">TaskSubmit()</a>, and <a class="el" href="job__system_8cpp_source.html#l01110">WaitOnTask()</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__api_8hpp_source.html#l00635">ParallelReduce()</a>.</p>

</div>
</div>
<a id="ad3555facf3b46ce9ac3a4a0ae845b35d" name="ad3555facf3b46ce9ac3a4a0ae845b35d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3555facf3b46ce9ac3a4a0ae845b35d">&#9670;&nbsp;</a></span>PauseProcessor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::PauseProcessor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CPU pause instruction to indicate when you are in a spin wait loop. </p>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l01165">1165</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>{</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>  <a class="code hl_define" href="job__system_8cpp.html#af1f8f96c9abf19bf3d0754524aaa2efc">NativePause</a>();</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>}</div>
<div class="ttc" id="ajob__system_8cpp_html_af1f8f96c9abf19bf3d0754524aaa2efc"><div class="ttname"><a href="job__system_8cpp.html#af1f8f96c9abf19bf3d0754524aaa2efc">NativePause</a></div><div class="ttdeci">#define NativePause</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l01162">job_system.cpp:1162</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l01162">NativePause</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__queue_8hpp_source.html#l00577">Job::MPMCQueue::Commit()</a>.</p>

</div>
</div>
<a id="a4f97b7424b855833a25294046caf3c3b" name="a4f97b7424b855833a25294046caf3c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f97b7424b855833a25294046caf3c3b">&#9670;&nbsp;</a></span>YieldTimeSlice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Job::YieldTimeSlice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Asks the OS to yield this threads execution to another thread on the current cpu core. </p>

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l01172">1172</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>{</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>  <span class="comment">// Windows : SwitchToThread()</span></div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>  <span class="comment">// Linux   : sched_yield()</span></div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>  std::this_thread::yield();</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e954e52e77f521bd679ceedee2e9a3b" name="a9e954e52e77f521bd679ceedee2e9a3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e954e52e77f521bd679ceedee2e9a3b">&#9670;&nbsp;</a></span>ParallelFor() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F , typename S &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_job_1_1_task.html">Task</a> * Job::ParallelFor </td>
          <td>(</td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S &amp;&amp;&#160;</td>
          <td class="paramname"><em>splitter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parallel for algorithm, splits the work up recursively splitting based on the <code>splitter</code> passed in. </p>
<p >Assumes all callable objects passed in can be invoked on multiple threads at the same time.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">F</td><td>Type of function object passed in. Must be callable like: fn(Task* task, IndexRange index_range)</td></tr>
    <tr><td class="paramname">S</td><td>Callable splitter, must be callable like: splitter(std::size_t count)</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>Start index for the range to be parallelized.</td></tr>
    <tr><td class="paramname">count</td><td><code>start</code> + count defines the end range.</td></tr>
    <tr><td class="paramname">splitter</td><td>Callable splitter, must be callable like: splitter(std::size_t count)</td></tr>
    <tr><td class="paramname">fn</td><td>Function object must be callable like: fn(Task* task, IndexRange index_range)</td></tr>
    <tr><td class="paramname">parent</td><td>Parent task to add this task as a child of.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new task holding the work of the parallel for. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00613">613</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>  {</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespace_job.html#a76170415e85eea5113a606a878a7dcf9">TaskMake</a>(</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>     [=, splitter = std::move(splitter), fn = std::move(fn)](<a class="code hl_struct" href="struct_job_1_1_task.html">Task</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespacetask.html">task</a>) {</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>       <span class="keywordflow">if</span> (count &gt; 1u &amp;&amp; splitter(count))</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>       {</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>         <span class="keyword">const</span> std::size_t left_count    = count / 2;</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>         <span class="keyword">const</span> std::size_t right_count   = count - left_count;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>         <span class="keyword">const</span> <a class="code hl_enumeration" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a>   parent_q_type = <a class="code hl_function" href="namespace_job_1_1detail.html#a725721f202ed179f6a4177b33f205666">detail::taskQType</a>(<a class="code hl_namespace" href="namespacetask.html">task</a>);</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span> </div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>         <a class="code hl_function" href="namespace_job.html#ae3e34b8468f9b731c3a56b6848587f4d">TaskSubmit</a>(<a class="code hl_function" href="namespace_job.html#a9d0b26b28577004e29e759e45c2425e2">ParallelFor</a>(start, left_count, splitter, fn, <a class="code hl_namespace" href="namespacetask.html">task</a>), parent_q_type);</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>         <a class="code hl_function" href="namespace_job.html#ae3e34b8468f9b731c3a56b6848587f4d">TaskSubmit</a>(<a class="code hl_function" href="namespace_job.html#a9d0b26b28577004e29e759e45c2425e2">ParallelFor</a>(start + left_count, right_count, splitter, fn, <a class="code hl_namespace" href="namespacetask.html">task</a>), parent_q_type);</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>       }</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>       <span class="keywordflow">else</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>       {</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>         fn(<a class="code hl_namespace" href="namespacetask.html">task</a>, IndexRange{start, start + count});</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>       }</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>     },</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>     parent);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>  }</div>
<div class="ttc" id="anamespace_job_1_1detail_html_a725721f202ed179f6a4177b33f205666"><div class="ttname"><a href="namespace_job_1_1detail.html#a725721f202ed179f6a4177b33f205666">Job::detail::taskQType</a></div><div class="ttdeci">QueueType taskQType(const Task *task) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l01181">job_system.cpp:1181</a></div></div>
<div class="ttc" id="anamespace_job_html_a686f6798e9f499e832cb9f125f0db5fb"><div class="ttname"><a href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">Job::QueueType</a></div><div class="ttdeci">QueueType</div><div class="ttdoc">Determines which threads the task will be allowed to run on.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00045">job_api.hpp:46</a></div></div>
<div class="ttc" id="anamespace_job_html_a9d0b26b28577004e29e759e45c2425e2"><div class="ttname"><a href="namespace_job.html#a9d0b26b28577004e29e759e45c2425e2">Job::ParallelFor</a></div><div class="ttdeci">Task * ParallelFor(T *const data, const std::size_t count, S &amp;&amp;splitter, F &amp;&amp;fn, Task *parent=nullptr)</div><div class="ttdoc">Parallel for algorithm, splits the work up recursively splitting based on the splitter passed in....</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00707">job_api.hpp:707</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__api_8hpp_source.html#l00613">ParallelFor()</a>, <a class="el" href="job__system_8cpp_source.html#l00952">TaskMake()</a>, <a class="el" href="job__system_8cpp_source.html#l01181">Job::detail::taskQType()</a>, and <a class="el" href="job__system_8cpp_source.html#l01040">TaskSubmit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__api_8hpp_source.html#l00613">ParallelFor()</a>, and <a class="el" href="job__api_8hpp_source.html#l00635">ParallelReduce()</a>.</p>

</div>
</div>
<a id="af3b466a5f1cf2cd500569cb8bc394a29" name="af3b466a5f1cf2cd500569cb8bc394a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b466a5f1cf2cd500569cb8bc394a29">&#9670;&nbsp;</a></span>ParallelReduce()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="struct_job_1_1_splitter.html">Splitter</a> , typename Reducer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_job_1_1_task.html">Task</a> * Job::ParallelReduce </td>
          <td>(</td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_splitter.html">Splitter</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>splitter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Reducer &amp;&amp;&#160;</td>
          <td class="paramname"><em>reduce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00635">635</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  {</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespace_job.html#a76170415e85eea5113a606a878a7dcf9">TaskMake</a>(</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>     [=, splitter = std::move(splitter), reduce = std::move(reduce)](<a class="code hl_struct" href="struct_job_1_1_task.html">Task</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespacetask.html">task</a>) {</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>       <span class="comment">// NOTE(SR):</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>       <span class="comment">//   Could also have a stride that increases each step.</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>       <span class="comment">//   This would be bad for Cuda GPU (Shared Memory Bank Conflict)</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>       <span class="comment">//   But good on CPU with better locality.</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>       <span class="comment">//   https://developer.download.nvidia.com/assets/cuda/files/reduction.pdf</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span> </div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>       <span class="keyword">const</span> <a class="code hl_enumeration" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a> parent_q_type = <a class="code hl_function" href="namespace_job_1_1detail.html#a725721f202ed179f6a4177b33f205666">detail::taskQType</a>(<a class="code hl_namespace" href="namespacetask.html">task</a>);</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>       std::size_t     count_left    = count;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>       <span class="keywordflow">while</span> (count_left &gt; 1)</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>       {</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>         <span class="keyword">const</span> std::size_t stride = count_left / 2;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span> </div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>         <span class="keyword">const</span> <span class="keyword">auto</span> ReduceRange = [stride, &amp;reduce](<a class="code hl_struct" href="struct_job_1_1_task.html">Task</a>* <span class="keyword">const</span> sub_task, <span class="keyword">const</span> <a class="code hl_struct" href="struct_job_1_1_index_range.html">IndexRange</a> range) {</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>           <span class="keywordflow">for</span> (<span class="keyword">const</span> std::size_t index : range)</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>           {</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>             reduce(sub_task, index, index + stride);</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>           }</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>         };</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span> </div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>         <a class="code hl_function" href="namespace_job.html#a21ff0cc938b7cd7efc74be4e7c82ed74">TaskSubmitAndWait</a>(<a class="code hl_function" href="namespace_job.html#a9d0b26b28577004e29e759e45c2425e2">ParallelFor</a>(start, stride, splitter, ReduceRange, <span class="keyword">nullptr</span>), parent_q_type);</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span> </div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>         <span class="keywordflow">if</span> ((count_left &amp; 1) != 0)</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>         {</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>           reduce(<a class="code hl_namespace" href="namespacetask.html">task</a>, start, start + count_left - 1);</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>         }</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>         count_left = stride;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>       }</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>     },</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>     parent);</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>  }</div>
<div class="ttc" id="anamespace_job_html_a21ff0cc938b7cd7efc74be4e7c82ed74"><div class="ttname"><a href="namespace_job.html#a21ff0cc938b7cd7efc74be4e7c82ed74">Job::TaskSubmitAndWait</a></div><div class="ttdeci">void TaskSubmitAndWait(Task *const self, const QueueType queue=QueueType::NORMAL) noexcept</div><div class="ttdoc">Same as calling taskSubmit followed by waitOnTask.</div><div class="ttdef"><b>Definition:</b> <a href="job__system_8cpp_source.html#l01127">job_system.cpp:1127</a></div></div>
<div class="ttc" id="astruct_job_1_1_index_range_html"><div class="ttname"><a href="struct_job_1_1_index_range.html">Job::IndexRange</a></div><div class="ttdoc">Range of indices to iterator over.</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00521">job_api.hpp:522</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__api_8hpp_source.html#l00613">ParallelFor()</a>, <a class="el" href="job__system_8cpp_source.html#l00952">TaskMake()</a>, <a class="el" href="job__system_8cpp_source.html#l01181">Job::detail::taskQType()</a>, and <a class="el" href="job__system_8cpp_source.html#l01127">TaskSubmitAndWait()</a>.</p>

</div>
</div>
<a id="a9d0b26b28577004e29e759e45c2425e2" name="a9d0b26b28577004e29e759e45c2425e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d0b26b28577004e29e759e45c2425e2">&#9670;&nbsp;</a></span>ParallelFor() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename F , typename S &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_job_1_1_task.html">Task</a> * Job::ParallelFor </td>
          <td>(</td>
          <td class="paramtype">T *const&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S &amp;&amp;&#160;</td>
          <td class="paramname"><em>splitter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parallel for algorithm, splits the work up recursively splitting based on the <code>splitter</code> passed in. This version is a helper for array data. </p>
<p >Assumes all callable objects passed in can be invoked on multiple threads at the same time.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type of the array to process.</td></tr>
    <tr><td class="paramname">F</td><td>Type of function object passed in. Must be callable like: fn(Task* task, IndexRange index_range)</td></tr>
    <tr><td class="paramname">S</td><td>Callable splitter, must be callable like: splitter(std::size_t count)</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The start of the array to process.</td></tr>
    <tr><td class="paramname">count</td><td>The number of elements in the <code>data</code> array.</td></tr>
    <tr><td class="paramname">splitter</td><td>Callable splitter, must be callable like: splitter(std::size_t count)</td></tr>
    <tr><td class="paramname">fn</td><td>Function object must be callable like: fn(job::Task* task, T* data_start, const std::size_t num_items)</td></tr>
    <tr><td class="paramname">parent</td><td>Parent task to add this task as a child of.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new task holding the work of the parallel for. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00707">707</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  {</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespace_job.html#a9d0b26b28577004e29e759e45c2425e2">ParallelFor</a>(</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>     std::size_t(0), count, std::move(splitter), [data, fn = std::move(fn)](<a class="code hl_struct" href="struct_job_1_1_task.html">Task</a>* <span class="keyword">const</span> <a class="code hl_namespace" href="namespacetask.html">task</a>, <span class="keyword">const</span> <a class="code hl_struct" href="struct_job_1_1_index_range.html">IndexRange</a> index_range) {</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>       fn(<a class="code hl_namespace" href="namespacetask.html">task</a>, data + index_range.<a class="code hl_variable" href="struct_job_1_1_index_range.html#aceb44881dc7d7dcaa6b37c93bdb92329">idx_bgn</a>, index_range.<a class="code hl_function" href="struct_job_1_1_index_range.html#acfc03080318463313a0d911aa806cb9b">length</a>());</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>     },</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>     parent);</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>  }</div>
<div class="ttc" id="astruct_job_1_1_index_range_html_aceb44881dc7d7dcaa6b37c93bdb92329"><div class="ttname"><a href="struct_job_1_1_index_range.html#aceb44881dc7d7dcaa6b37c93bdb92329">Job::IndexRange::idx_bgn</a></div><div class="ttdeci">std::size_t idx_bgn</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00523">job_api.hpp:523</a></div></div>
<div class="ttc" id="astruct_job_1_1_index_range_html_acfc03080318463313a0d911aa806cb9b"><div class="ttname"><a href="struct_job_1_1_index_range.html#acfc03080318463313a0d911aa806cb9b">Job::IndexRange::length</a></div><div class="ttdeci">std::size_t length() const</div><div class="ttdef"><b>Definition:</b> <a href="job__api_8hpp_source.html#l00526">job_api.hpp:526</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__api_8hpp_source.html#l00523">Job::IndexRange::idx_bgn</a>, <a class="el" href="job__api_8hpp_source.html#l00526">Job::IndexRange::length()</a>, and <a class="el" href="job__api_8hpp_source.html#l00613">ParallelFor()</a>.</p>

</div>
</div>
<a id="a4be4134569de0124394d50c8407ea70e" name="a4be4134569de0124394d50c8407ea70e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be4134569de0124394d50c8407ea70e">&#9670;&nbsp;</a></span>ParallelInvoke()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... F&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_job_1_1_task.html">Task</a> * Job::ParallelInvoke </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_job_1_1_task.html">Task</a> *const&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;...&#160;</td>
          <td class="paramname"><em>fns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invokes each passed in function object in parallel. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">...F</td><td>The function objects types. Must be callable like: fn(Task* task)</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>Parent task to add this task as a child of.</td></tr>
    <tr><td class="paramname">...fns</td><td>Function objects must be callable like: fn(Task* task)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new task holding the work of the parallel invoke. </dd></dl>

<p class="definition">Definition at line <a class="el" href="job__api_8hpp_source.html#l00734">734</a> of file <a class="el" href="job__api_8hpp_source.html">job_api.hpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>  {</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespace_job.html#a76170415e85eea5113a606a878a7dcf9">TaskMake</a>(</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>     [=](<a class="code hl_struct" href="struct_job_1_1_task.html">Task</a>* <span class="keyword">const</span> parent_task) <span class="keyword">mutable</span> {</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>       <span class="keyword">const</span> <a class="code hl_enumeration" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a> parent_q_type = <a class="code hl_function" href="namespace_job_1_1detail.html#a725721f202ed179f6a4177b33f205666">detail::taskQType</a>(parent_task);</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>       (<a class="code hl_function" href="namespace_job.html#ae3e34b8468f9b731c3a56b6848587f4d">TaskSubmit</a>(<a class="code hl_function" href="namespace_job.html#a76170415e85eea5113a606a878a7dcf9">TaskMake</a>(std::move(fns), parent_task), parent_q_type), ...);</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>     },</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>     parent);</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="job__system_8cpp_source.html#l00952">TaskMake()</a>, <a class="el" href="job__system_8cpp_source.html#l01181">Job::detail::taskQType()</a>, and <a class="el" href="job__system_8cpp_source.html#l01040">TaskSubmit()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a935d39b02b2713291aed58d9c1135fcc" name="a935d39b02b2713291aed58d9c1135fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a935d39b02b2713291aed58d9c1135fcc">&#9670;&nbsp;</a></span>k_FalseSharingPadSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr std::size_t Job::k_FalseSharingPadSize = std::hardware_destructive_interference_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__queue_8hpp_source.html#l00031">31</a> of file <a class="el" href="job__queue_8hpp_source.html">job_queue.hpp</a>.</p>

</div>
</div>
<a id="aef3303347f87a62f73106bf96a855e22" name="aef3303347f87a62f73106bf96a855e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef3303347f87a62f73106bf96a855e22">&#9670;&nbsp;</a></span>k_CachelineSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr std::size_t Job::k_CachelineSize = 64u</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00074">74</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

</div>
</div>
<a id="aa141d8407e498c708be9a947805b6853" name="aa141d8407e498c708be9a947805b6853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa141d8407e498c708be9a947805b6853">&#9670;&nbsp;</a></span>k_ExpectedTaskSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr std::size_t Job::k_ExpectedTaskSize = std::max(std::size_t(128u), <a class="el" href="namespace_job.html#aef3303347f87a62f73106bf96a855e22">k_CachelineSize</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00077">77</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

</div>
</div>
<a id="abb6be9ba0f23d0e66306290cd06d6089" name="abb6be9ba0f23d0e66306290cd06d6089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6be9ba0f23d0e66306290cd06d6089">&#9670;&nbsp;</a></span>k_InvalidQueueType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a> Job::k_InvalidQueueType = <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">QueueType</a>(int(<a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613">QueueType::WORKER</a>) + 1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00078">78</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__system_8cpp_source.html#l01004">TaskAddContinuation()</a>, <a class="el" href="job__system_8cpp_source.html#l01019">TaskIncRef()</a>, <a class="el" href="job__system_8cpp_source.html#l01040">TaskSubmit()</a>, and <a class="el" href="job__system_8cpp_source.html#l01110">WaitOnTask()</a>.</p>

</div>
</div>
<a id="a4bb56989a0a31d03a041c40e8ac99cc7" name="a4bb56989a0a31d03a041c40e8ac99cc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bb56989a0a31d03a041c40e8ac99cc7">&#9670;&nbsp;</a></span>NullTaskHandle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a> Job::NullTaskHandle = std::numeric_limits&lt;<a class="el" href="namespace_job.html#a66b4ae2d934892bb03f311c31506476e">TaskHandle</a>&gt;::max()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="job__system_8cpp_source.html#l00089">89</a> of file <a class="el" href="job__system_8cpp_source.html">job_system.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="job__system_8cpp_source.html#l00112">Job::TaskPtr::isNull()</a>, and <a class="el" href="job__system_8cpp_source.html#l00106">Job::TaskPtr::TaskPtr()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_job.html">Job</a></li>
    <li class="footer">Generated on Sat Jul 20 2024 22:58:27 for BluFedora Job System by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
