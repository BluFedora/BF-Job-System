<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BluFedora Job System: include/bf/job/bf_job_api.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BluFedora Job System<span id="projectnumber">&#160;v1.0.0</span>
   </div>
   <div id="projectbrief">This is a C++ job system library for use in game engines.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('bf__job__api_8hpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bf_job_api.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>API for a multi-threading job system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bf__job__config_8hpp_source.html">bf_job_config.hpp</a>&quot;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
</div>
<p><a href="bf__job__api_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structbf_1_1job_1_1_job_system_create_options"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#structbf_1_1job_1_1_job_system_create_options">bf::job::JobSystemCreateOptions</a></td></tr>
<tr class="memdesc:structbf_1_1job_1_1_job_system_create_options"><td class="mdescLeft">&#160;</td><td class="mdescRight">The runtime configuration for the Job System.  <a href="namespacebf_1_1job.html#structbf_1_1job_1_1_job_system_create_options">More...</a><br /></td></tr>
<tr class="separator:structbf_1_1job_1_1_job_system_create_options"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structbf_1_1job_1_1_task_data"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#structbf_1_1job_1_1_task_data">bf::job::TaskData</a></td></tr>
<tr class="memdesc:structbf_1_1job_1_1_task_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pair of a pointer and the size of the buffer you can write to. Essentially a buffer for user-data, maybe large enough to store content inline.  <a href="namespacebf_1_1job.html#structbf_1_1job_1_1_task_data">More...</a><br /></td></tr>
<tr class="separator:structbf_1_1job_1_1_task_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacebf"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf.html">bf</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacebf_1_1job"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html">bf::job</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacebf_1_1job_1_1detail"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job_1_1detail.html">bf::job::detail</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a578698ca919202a8ec0473dd4f6c5b81"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a578698ca919202a8ec0473dd4f6c5b81">bf::job::WorkerID</a> = std::uint16_t</td></tr>
<tr class="memdesc:a578698ca919202a8ec0473dd4f6c5b81"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id type of each worker thread.  <a href="namespacebf_1_1job.html#a578698ca919202a8ec0473dd4f6c5b81">More...</a><br /></td></tr>
<tr class="separator:a578698ca919202a8ec0473dd4f6c5b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae80841b2f4f6b256e5c7c3b2e4c2c541"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#ae80841b2f4f6b256e5c7c3b2e4c2c541">bf::job::TaskFn</a> = void(*)(Task *)</td></tr>
<tr class="memdesc:ae80841b2f4f6b256e5c7c3b2e4c2c541"><td class="mdescLeft">&#160;</td><td class="mdescRight">The signature of the type of function for a single <a class="el" href="structbf_1_1job_1_1_task.html" title="A single &#39;job&#39; to be run by this system.">Task</a>.  <a href="namespacebf_1_1job.html#ae80841b2f4f6b256e5c7c3b2e4c2c541">More...</a><br /></td></tr>
<tr class="separator:ae80841b2f4f6b256e5c7c3b2e4c2c541"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a875be9fb42e0c4b56567a56f2265253a"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a875be9fb42e0c4b56567a56f2265253a">bf::job::QueueType</a> : std::uint16_t { <a class="el" href="namespacebf_1_1job.html#a875be9fb42e0c4b56567a56f2265253aa1e23852820b9154316c7c06e2b7ba051">bf::job::NORMAL</a> = 0
, <a class="el" href="namespacebf_1_1job.html#a875be9fb42e0c4b56567a56f2265253aa186495f7da296bf880df3a22a492b378">bf::job::MAIN</a> = 1
, <a class="el" href="namespacebf_1_1job.html#a875be9fb42e0c4b56567a56f2265253aa87ed58ce5596142e11cb65deb049bb4b">bf::job::BACKGROUND</a> = 2
 }</td></tr>
<tr class="memdesc:a875be9fb42e0c4b56567a56f2265253a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The priority that you want a task to run at.  <a href="namespacebf_1_1job.html#a875be9fb42e0c4b56567a56f2265253a">More...</a><br /></td></tr>
<tr class="separator:a875be9fb42e0c4b56567a56f2265253a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3976d7c24992b120b851a1b65396d742"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job_1_1detail.html#a3976d7c24992b120b851a1b65396d742">bf::job::detail::checkTaskDataSize</a> (std::size_t data_size) noexcept</td></tr>
<tr class="separator:a3976d7c24992b120b851a1b65396d742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4666e8dba3d32e395eb701d243c0cb"><td class="memItemLeft" align="right" valign="top">QueueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job_1_1detail.html#a4d4666e8dba3d32e395eb701d243c0cb">bf::job::detail::taskQType</a> (const Task *task) noexcept</td></tr>
<tr class="separator:a4d4666e8dba3d32e395eb701d243c0cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a569f46928160d2ff793d9acbafd35277"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a569f46928160d2ff793d9acbafd35277">bf::job::numSystemThreads</a> () noexcept</td></tr>
<tr class="memdesc:a569f46928160d2ff793d9acbafd35277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes some system calls to grab the number threads / processors on the device. This function can be called by any thread concurrently.  <a href="namespacebf_1_1job.html#a569f46928160d2ff793d9acbafd35277">More...</a><br /></td></tr>
<tr class="separator:a569f46928160d2ff793d9acbafd35277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dbd834ed11bc519b59ebf14d42f7440"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a1dbd834ed11bc519b59ebf14d42f7440">bf::job::initialize</a> (const JobSystemCreateOptions &amp;params={0u}) noexcept</td></tr>
<tr class="memdesc:a1dbd834ed11bc519b59ebf14d42f7440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the Job system and creates all the worker threads. The thread that calls 'bfJob::initialize' is considered (and should be) the main thread.  <a href="namespacebf_1_1job.html#a1dbd834ed11bc519b59ebf14d42f7440">More...</a><br /></td></tr>
<tr class="separator:a1dbd834ed11bc519b59ebf14d42f7440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa230de6f107416403da55c56ff39c600"><td class="memItemLeft" align="right" valign="top">std::uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#aa230de6f107416403da55c56ff39c600">bf::job::numWorkers</a> () noexcept</td></tr>
<tr class="memdesc:aa230de6f107416403da55c56ff39c600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of workers created by the system. This function can be called by any thread concurrently.  <a href="namespacebf_1_1job.html#aa230de6f107416403da55c56ff39c600">More...</a><br /></td></tr>
<tr class="separator:aa230de6f107416403da55c56ff39c600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9edb9cb3acc7877cbb87a66137467c9"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#ae9edb9cb3acc7877cbb87a66137467c9">bf::job::processorArchitectureName</a> () noexcept</td></tr>
<tr class="memdesc:ae9edb9cb3acc7877cbb87a66137467c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">An implementation defined name for the CPU architecture of the device. This function can be called by any thread concurrently.  <a href="namespacebf_1_1job.html#ae9edb9cb3acc7877cbb87a66137467c9">More...</a><br /></td></tr>
<tr class="separator:ae9edb9cb3acc7877cbb87a66137467c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7bca473a7040c5234ebba1fe6cb031"><td class="memItemLeft" align="right" valign="top">WorkerID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a2b7bca473a7040c5234ebba1fe6cb031">bf::job::currentWorker</a> () noexcept</td></tr>
<tr class="memdesc:a2b7bca473a7040c5234ebba1fe6cb031"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current id of the current thread. This function can be called by any thread concurrently.  <a href="namespacebf_1_1job.html#a2b7bca473a7040c5234ebba1fe6cb031">More...</a><br /></td></tr>
<tr class="separator:a2b7bca473a7040c5234ebba1fe6cb031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8518fcec0a8301682d27c92d93495e84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a8518fcec0a8301682d27c92d93495e84">bf::job::tick</a> ()</td></tr>
<tr class="memdesc:a8518fcec0a8301682d27c92d93495e84"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be called as frequently as you want the main thread's queue to be flushed.  <a href="namespacebf_1_1job.html#a8518fcec0a8301682d27c92d93495e84">More...</a><br /></td></tr>
<tr class="separator:a8518fcec0a8301682d27c92d93495e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f005788a248d99a196608b5727b8bcd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a0f005788a248d99a196608b5727b8bcd">bf::job::shutdown</a> () noexcept</td></tr>
<tr class="memdesc:a0f005788a248d99a196608b5727b8bcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will deallocate any memory used by the system and shutdown any threads created by 'bfJob::initialize'.  <a href="namespacebf_1_1job.html#a0f005788a248d99a196608b5727b8bcd">More...</a><br /></td></tr>
<tr class="separator:a0f005788a248d99a196608b5727b8bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b82edd0c4dbead425152cf008ec532"><td class="memItemLeft" align="right" valign="top">Task *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a34b82edd0c4dbead425152cf008ec532">bf::job::taskMake</a> (TaskFn function, Task *const parent=nullptr) noexcept</td></tr>
<tr class="memdesc:a34b82edd0c4dbead425152cf008ec532"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="structbf_1_1job_1_1_task.html" title="A single &#39;job&#39; to be run by this system.">Task</a> that should be later submitted by calling 'taskSubmit'.  <a href="namespacebf_1_1job.html#a34b82edd0c4dbead425152cf008ec532">More...</a><br /></td></tr>
<tr class="separator:a34b82edd0c4dbead425152cf008ec532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921c7746e85094422d49fe193a523612"><td class="memItemLeft" align="right" valign="top">TaskData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a921c7746e85094422d49fe193a523612">bf::job::taskGetData</a> (Task *const task) noexcept</td></tr>
<tr class="memdesc:a921c7746e85094422d49fe193a523612"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns you the user-data buffer you way write to get data into your TaskFn.  <a href="namespacebf_1_1job.html#a921c7746e85094422d49fe193a523612">More...</a><br /></td></tr>
<tr class="separator:a921c7746e85094422d49fe193a523612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f5325afedfb4a33100a2d87ad45ed9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a59f5325afedfb4a33100a2d87ad45ed9">bf::job::taskAddContinuation</a> (Task *const self, Task *const continuation) noexcept</td></tr>
<tr class="memdesc:a59f5325afedfb4a33100a2d87ad45ed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A 'continuation' is a task that will be added to a queue after the 'self' <a class="el" href="structbf_1_1job_1_1_task.html" title="A single &#39;job&#39; to be run by this system.">Task</a> has finished running.  <a href="namespacebf_1_1job.html#a59f5325afedfb4a33100a2d87ad45ed9">More...</a><br /></td></tr>
<tr class="separator:a59f5325afedfb4a33100a2d87ad45ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8571034c2aff8664cbffc8de3e9d22"><td class="memItemLeft" align="right" valign="top">Task *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a9d8571034c2aff8664cbffc8de3e9d22">bf::job::taskSubmit</a> (Task *const self, QueueType queue=QueueType::NORMAL) noexcept</td></tr>
<tr class="memdesc:a9d8571034c2aff8664cbffc8de3e9d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submits the task to the specified queue.  <a href="namespacebf_1_1job.html#a9d8571034c2aff8664cbffc8de3e9d22">More...</a><br /></td></tr>
<tr class="separator:a9d8571034c2aff8664cbffc8de3e9d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb85604e4d907f4190c55d798c628982"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:abb85604e4d907f4190c55d798c628982"><td class="memTemplItemLeft" align="right" valign="top">T &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#abb85604e4d907f4190c55d798c628982">bf::job::taskDataAs</a> (Task *const task) noexcept</td></tr>
<tr class="memdesc:abb85604e4d907f4190c55d798c628982"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grabs the user-data pointer as the T you specified. No safety is guaranteed, this is just a dumb cast.  <a href="namespacebf_1_1job.html#abb85604e4d907f4190c55d798c628982">More...</a><br /></td></tr>
<tr class="separator:abb85604e4d907f4190c55d798c628982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7643eed8577eaad7b9dad4e887fdca"><td class="memTemplParams" colspan="2">template&lt;typename T , typename... Args&gt; </td></tr>
<tr class="memitem:aef7643eed8577eaad7b9dad4e887fdca"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#aef7643eed8577eaad7b9dad4e887fdca">bf::job::taskEmplaceData</a> (Task *const task, Args &amp;&amp;... args)</td></tr>
<tr class="memdesc:aef7643eed8577eaad7b9dad4e887fdca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the constructor of T on the user-data buffer.  <a href="namespacebf_1_1job.html#aef7643eed8577eaad7b9dad4e887fdca">More...</a><br /></td></tr>
<tr class="separator:aef7643eed8577eaad7b9dad4e887fdca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57f75705be9ca98403dd7181c6744b6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af57f75705be9ca98403dd7181c6744b6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#af57f75705be9ca98403dd7181c6744b6">bf::job::taskSetData</a> (Task *const task, const T &amp;data)</td></tr>
<tr class="memdesc:af57f75705be9ca98403dd7181c6744b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies 'data' into the user-data buffer by calling the T copy constructor.  <a href="namespacebf_1_1job.html#af57f75705be9ca98403dd7181c6744b6">More...</a><br /></td></tr>
<tr class="separator:af57f75705be9ca98403dd7181c6744b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43aa7fb7429e273b2776523f84499be"><td class="memTemplParams" colspan="2">template&lt;typename Closure &gt; </td></tr>
<tr class="memitem:af43aa7fb7429e273b2776523f84499be"><td class="memTemplItemLeft" align="right" valign="top">Task *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#af43aa7fb7429e273b2776523f84499be">bf::job::taskMake</a> (Closure &amp;&amp;function, Task *const parent=nullptr)</td></tr>
<tr class="memdesc:af43aa7fb7429e273b2776523f84499be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new task by using the user-data buffer to store the closure.  <a href="namespacebf_1_1job.html#af43aa7fb7429e273b2776523f84499be">More...</a><br /></td></tr>
<tr class="separator:af43aa7fb7429e273b2776523f84499be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16013b6b11e1be5fc9f92ddc8ebe682b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a16013b6b11e1be5fc9f92ddc8ebe682b">bf::job::taskIncRef</a> (Task *const task)</td></tr>
<tr class="memdesc:a16013b6b11e1be5fc9f92ddc8ebe682b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the task's ref count preventing it from being garbage collected.  <a href="namespacebf_1_1job.html#a16013b6b11e1be5fc9f92ddc8ebe682b">More...</a><br /></td></tr>
<tr class="separator:a16013b6b11e1be5fc9f92ddc8ebe682b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319ff8e231fce83f3990cfc703675f95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a319ff8e231fce83f3990cfc703675f95">bf::job::taskDecRef</a> (Task *const task)</td></tr>
<tr class="memdesc:a319ff8e231fce83f3990cfc703675f95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the task's ref count allow it to be garbage collected.  <a href="namespacebf_1_1job.html#a319ff8e231fce83f3990cfc703675f95">More...</a><br /></td></tr>
<tr class="separator:a319ff8e231fce83f3990cfc703675f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5175f1552d04cf66c93fbf126769ca6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#ac5175f1552d04cf66c93fbf126769ca6">bf::job::taskIsDone</a> (const Task *const task) noexcept</td></tr>
<tr class="memdesc:ac5175f1552d04cf66c93fbf126769ca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the done status of the task.  <a href="namespacebf_1_1job.html#ac5175f1552d04cf66c93fbf126769ca6">More...</a><br /></td></tr>
<tr class="separator:ac5175f1552d04cf66c93fbf126769ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a384cbecfdf7aaa8629c6afb2ef0d90ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a384cbecfdf7aaa8629c6afb2ef0d90ae">bf::job::workerGC</a> ()</td></tr>
<tr class="memdesc:a384cbecfdf7aaa8629c6afb2ef0d90ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Garbage collects tasks allocated on the current worker.  <a href="namespacebf_1_1job.html#a384cbecfdf7aaa8629c6afb2ef0d90ae">More...</a><br /></td></tr>
<tr class="separator:a384cbecfdf7aaa8629c6afb2ef0d90ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af1eef961e26e6cbdf84dd01d86a619"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebf_1_1job.html#a6af1eef961e26e6cbdf84dd01d86a619">bf::job::waitOnTask</a> (const Task *const task) noexcept</td></tr>
<tr class="memdesc:a6af1eef961e26e6cbdf84dd01d86a619"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until the specified <code>task</code> is done executing. This function will block but do work while being blocked so there is no wasted time.  <a href="namespacebf_1_1job.html#a6af1eef961e26e6cbdf84dd01d86a619">More...</a><br /></td></tr>
<tr class="separator:a6af1eef961e26e6cbdf84dd01d86a619"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >API for a multi-threading job system. </p>
<dl class="section author"><dt>Author</dt><dd>Shareef Abdoul-Raheem (<a href="https://blufedora.github.io/">https://blufedora.github.io/</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2020-09-03</dd></dl>
<p>References: [<a href="https://blog.molecular-matters.com/2015/08/24/job-system-2-0-lock-free-work-stealing-part-1-basics/">https://blog.molecular-matters.com/2015/08/24/job-system-2-0-lock-free-work-stealing-part-1-basics/</a>] [<a href="https://manu343726.github.io/2017-03-13-lock-free-job-stealing-task-system-with-modern-c/">https://manu343726.github.io/2017-03-13-lock-free-job-stealing-task-system-with-modern-c/</a>] [<a href="https://github.com/cdwfs/cds_job/blob/master/cds_job.h">https://github.com/cdwfs/cds_job/blob/master/cds_job.h</a>] [<a href="https://github.com/cyshi/logbook/blob/master/src/common/work_stealing_queue.h">https://github.com/cyshi/logbook/blob/master/src/common/work_stealing_queue.h</a>] [<a href="https://fabiensanglard.net/doom3_bfg/threading.php">https://fabiensanglard.net/doom3_bfg/threading.php</a>] [<a href="https://gdcvault.com/play/1022186/Parallelizing-the-Naughty-Dog-Engine">https://gdcvault.com/play/1022186/Parallelizing-the-Naughty-Dog-Engine</a>]</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2020-2022 Shareef Abdoul-Raheem </dd></dl>

<p class="definition">Definition in file <a class="el" href="bf__job__api_8hpp_source.html">bf_job_api.hpp</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structbf_1_1job_1_1_job_system_create_options" id="structbf_1_1job_1_1_job_system_create_options"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structbf_1_1job_1_1_job_system_create_options">&#9670;&nbsp;</a></span>bf::job::JobSystemCreateOptions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct bf::job::JobSystemCreateOptions</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >The runtime configuration for the Job System. </p>

<p class="definition">Definition at line <a class="el" href="bf__job__api_8hpp_source.html#l00069">69</a> of file <a class="el" href="bf__job__api_8hpp_source.html">bf_job_api.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a114aadc5c9276a01b135777528d9f356" name="a114aadc5c9276a01b135777528d9f356"></a>size_t</td>
<td class="fieldname">
num_threads</td>
<td class="fielddoc">
Use 0 to indicate using the number of cores available on the system. </td></tr>
</table>

</div>
</div>
<a name="structbf_1_1job_1_1_task_data" id="structbf_1_1job_1_1_task_data"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structbf_1_1job_1_1_task_data">&#9670;&nbsp;</a></span>bf::job::TaskData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct bf::job::TaskData</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Pair of a pointer and the size of the buffer you can write to. Essentially a buffer for user-data, maybe large enough to store content inline. </p>
<p >If you store non trivial data remember to manually call it's destructor at the bottom of the task function.</p>
<p >If you call 'taskEmplaceData' or 'taskSetData' and need to update the data once more be sure to free the previous contents correctly if the data stored in the buffer is not trivial. </p>

<p class="definition">Definition at line <a class="el" href="bf__job__api_8hpp_source.html#l00162">162</a> of file <a class="el" href="bf__job__api_8hpp_source.html">bf_job_api.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a25348a17d7317b42b3fc6a9f55ff70c7" name="a25348a17d7317b42b3fc6a9f55ff70c7"></a>void *</td>
<td class="fieldname">
ptr</td>
<td class="fielddoc">
The start of the buffer you may write to. </td></tr>
<tr><td class="fieldtype">
<a id="aa34099e0efbbeeaa2b2ba98d4e6cabcf" name="aa34099e0efbbeeaa2b2ba98d4e6cabcf"></a>size_t</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
The size of the buffer. </td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_6b263b20d1de113e640628a369cd9cc4.html">bf</a></li><li class="navelem"><a class="el" href="dir_a3d9097c994da282ca2b8a23b5575fd4.html">job</a></li><li class="navelem"><a class="el" href="bf__job__api_8hpp.html">bf_job_api.hpp</a></li>
    <li class="footer">Generated on Tue Sep 20 2022 07:01:40 for BluFedora Job System by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
