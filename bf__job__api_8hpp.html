<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BluFedora Job System: include/concurrent/bf_job_api.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BluFedora Job System<span id="projectnumber">&#160;v1.0.0</span>
   </div>
   <div id="projectbrief">This is a C++ job system library for use in game engines.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('bf__job__api_8hpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bf_job_api.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>API for a multi-threading job system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bf__job__config_8hpp_source.html">bf_job_config.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="initialization__token_8hpp_source.html">concurrent/initialization_token.hpp</a>&quot;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
</div>
<p><a href="bf__job__api_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:struct_job_1_1_task_data"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#struct_job_1_1_task_data">Job::TaskData</a></td></tr>
<tr class="memdesc:struct_job_1_1_task_data"><td class="mdescLeft">&#160;</td><td class="mdescRight">A buffer for user-data you can write to, maybe large enough to store task data inline.  <a href="namespace_job.html#struct_job_1_1_task_data">More...</a><br /></td></tr>
<tr class="separator:struct_job_1_1_task_data"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_job"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html">Job</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespace_job_1_1detail"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job_1_1detail.html">Job::detail</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac7727f146165ae76b95cc50196df236e"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">Job::WorkerID</a> = std::uint16_t</td></tr>
<tr class="memdesc:ac7727f146165ae76b95cc50196df236e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id type of each worker thread.  <a href="namespace_job.html#ac7727f146165ae76b95cc50196df236e">More...</a><br /></td></tr>
<tr class="separator:ac7727f146165ae76b95cc50196df236e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a553c2727a284305ddbc9d746e58267"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a2a553c2727a284305ddbc9d746e58267">Job::TaskFn</a> = void(*)(Task *)</td></tr>
<tr class="memdesc:a2a553c2727a284305ddbc9d746e58267"><td class="mdescLeft">&#160;</td><td class="mdescRight">The signature of the type of function for a single <a class="el" href="struct_job_1_1_task.html">Task</a>.  <a href="namespace_job.html#a2a553c2727a284305ddbc9d746e58267">More...</a><br /></td></tr>
<tr class="separator:a2a553c2727a284305ddbc9d746e58267"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a686f6798e9f499e832cb9f125f0db5fb"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">Job::QueueType</a> : std::uint8_t { <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba1e23852820b9154316c7c06e2b7ba051">Job::NORMAL</a> = 0
, <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba186495f7da296bf880df3a22a492b378">Job::MAIN</a> = 1
, <a class="el" href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fba531886e636f1aa36e0fc96d49f342613">Job::WORKER</a> = 2
 }</td></tr>
<tr class="memdesc:a686f6798e9f499e832cb9f125f0db5fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines which threads the a task will be allowed to run on.  <a href="namespace_job.html#a686f6798e9f499e832cb9f125f0db5fb">More...</a><br /></td></tr>
<tr class="separator:a686f6798e9f499e832cb9f125f0db5fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0c2a80b0061efcff2783b9ac1edffa34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job_1_1detail.html#a0c2a80b0061efcff2783b9ac1edffa34">Job::detail::checkTaskDataSize</a> (const Task *task, std::size_t data_size) noexcept</td></tr>
<tr class="separator:a0c2a80b0061efcff2783b9ac1edffa34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725721f202ed179f6a4177b33f205666"><td class="memItemLeft" align="right" valign="top">QueueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job_1_1detail.html#a725721f202ed179f6a4177b33f205666">Job::detail::taskQType</a> (const Task *task) noexcept</td></tr>
<tr class="separator:a725721f202ed179f6a4177b33f205666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1efbfe3a8061891854820fba2050bcf"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job_1_1detail.html#ac1efbfe3a8061891854820fba2050bcf">Job::detail::taskPaddingStart</a> (Task *const task) noexcept</td></tr>
<tr class="separator:ac1efbfe3a8061891854820fba2050bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf217a54cd7e0aee0463b3673b0aabf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job_1_1detail.html#addf217a54cd7e0aee0463b3673b0aabf">Job::detail::taskUsePadding</a> (Task *task, std::size_t num_bytes) noexcept</td></tr>
<tr class="separator:addf217a54cd7e0aee0463b3673b0aabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6facce7775e71b7a21a96b69a704cf9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job_1_1detail.html#ad6facce7775e71b7a21a96b69a704cf9">Job::detail::mainQueueRunTask</a> (void) noexcept</td></tr>
<tr class="separator:ad6facce7775e71b7a21a96b69a704cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69440377f73ecd3f40320af8e9cef349"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a69440377f73ecd3f40320af8e9cef349">Job::numSystemThreads</a> () noexcept</td></tr>
<tr class="memdesc:a69440377f73ecd3f40320af8e9cef349"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes some system calls to grab the number threads / processors on the device. This function can be called by any thread concurrently.  <a href="namespace_job.html#a69440377f73ecd3f40320af8e9cef349">More...</a><br /></td></tr>
<tr class="separator:a69440377f73ecd3f40320af8e9cef349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1f3c4799a1d9e93c98b730bc3926f5d"><td class="memItemLeft" align="right" valign="top">InitializationToken&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#aa1f3c4799a1d9e93c98b730bc3926f5d">Job::initialize</a> (const JobSystemCreateOptions &amp;params={}) noexcept</td></tr>
<tr class="memdesc:aa1f3c4799a1d9e93c98b730bc3926f5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the <a class="el" href="namespace_job.html">Job</a> system and creates all the worker threads. The thread that calls 'job::initialize' is considered the main thread.  <a href="namespace_job.html#aa1f3c4799a1d9e93c98b730bc3926f5d">More...</a><br /></td></tr>
<tr class="separator:aa1f3c4799a1d9e93c98b730bc3926f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf073aface15bce1bc026943c479b5f8"><td class="memItemLeft" align="right" valign="top">std::uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#acf073aface15bce1bc026943c479b5f8">Job::numWorkers</a> () noexcept</td></tr>
<tr class="memdesc:acf073aface15bce1bc026943c479b5f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of workers created by the system. This function can be called by any thread concurrently.  <a href="namespace_job.html#acf073aface15bce1bc026943c479b5f8">More...</a><br /></td></tr>
<tr class="separator:acf073aface15bce1bc026943c479b5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab86252387d79f142d7b7d2711a14410d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ab86252387d79f142d7b7d2711a14410d">Job::processorArchitectureName</a> () noexcept</td></tr>
<tr class="memdesc:ab86252387d79f142d7b7d2711a14410d"><td class="mdescLeft">&#160;</td><td class="mdescRight">An implementation defined name for the CPU architecture of the device. This function can be called by any thread concurrently.  <a href="namespace_job.html#ab86252387d79f142d7b7d2711a14410d">More...</a><br /></td></tr>
<tr class="separator:ab86252387d79f142d7b7d2711a14410d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3c1e485223676699a1c812fab848541"><td class="memItemLeft" align="right" valign="top">WorkerID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#af3c1e485223676699a1c812fab848541">Job::currentWorker</a> () noexcept</td></tr>
<tr class="memdesc:af3c1e485223676699a1c812fab848541"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current id of the current thread. This function can be called by any thread concurrently.  <a href="namespace_job.html#af3c1e485223676699a1c812fab848541">More...</a><br /></td></tr>
<tr class="separator:af3c1e485223676699a1c812fab848541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a108b2ec30f7216a3e469bd66385380ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a108b2ec30f7216a3e469bd66385380ab">Job::shutdown</a> () noexcept</td></tr>
<tr class="memdesc:a108b2ec30f7216a3e469bd66385380ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will deallocate any memory used by the system and shutdown any threads created by 'bfJob::initialize'.  <a href="namespace_job.html#a108b2ec30f7216a3e469bd66385380ab">More...</a><br /></td></tr>
<tr class="separator:a108b2ec30f7216a3e469bd66385380ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b0c05e6a3e492e026a843596c7e04e"><td class="memItemLeft" align="right" valign="top">Task *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ad6b0c05e6a3e492e026a843596c7e04e">Job::taskMake</a> (TaskFn function, Task *const parent=nullptr) noexcept</td></tr>
<tr class="memdesc:ad6b0c05e6a3e492e026a843596c7e04e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="struct_job_1_1_task.html">Task</a> that should be later submitted by calling 'taskSubmit'.  <a href="namespace_job.html#ad6b0c05e6a3e492e026a843596c7e04e">More...</a><br /></td></tr>
<tr class="separator:ad6b0c05e6a3e492e026a843596c7e04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a09c7017d793c5492d97f0309e9e83"><td class="memItemLeft" align="right" valign="top">TaskData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a88a09c7017d793c5492d97f0309e9e83">Job::taskGetData</a> (Task *const task) noexcept</td></tr>
<tr class="memdesc:a88a09c7017d793c5492d97f0309e9e83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns you the user-data buffer you way write to get data into your TaskFn.  <a href="namespace_job.html#a88a09c7017d793c5492d97f0309e9e83">More...</a><br /></td></tr>
<tr class="separator:a88a09c7017d793c5492d97f0309e9e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e18638ca7a5f8883de8ca4ff18711a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a23e18638ca7a5f8883de8ca4ff18711a">Job::taskAddContinuation</a> (Task *const self, Task *const continuation) noexcept</td></tr>
<tr class="memdesc:a23e18638ca7a5f8883de8ca4ff18711a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A 'continuation' is a task that will be added to a queue after the 'self' <a class="el" href="struct_job_1_1_task.html">Task</a> has finished running.  <a href="namespace_job.html#a23e18638ca7a5f8883de8ca4ff18711a">More...</a><br /></td></tr>
<tr class="separator:a23e18638ca7a5f8883de8ca4ff18711a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a339849e02f2105213cecb86e764bcc"><td class="memItemLeft" align="right" valign="top">Task *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a2a339849e02f2105213cecb86e764bcc">Job::taskSubmit</a> (Task *const self, const QueueType queue=QueueType::NORMAL) noexcept</td></tr>
<tr class="memdesc:a2a339849e02f2105213cecb86e764bcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submits the task to the specified queue.  <a href="namespace_job.html#a2a339849e02f2105213cecb86e764bcc">More...</a><br /></td></tr>
<tr class="separator:a2a339849e02f2105213cecb86e764bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8262392bcfb41a78dd6f88cfc66583"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aaa8262392bcfb41a78dd6f88cfc66583"><td class="memTemplItemLeft" align="right" valign="top">T &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#aaa8262392bcfb41a78dd6f88cfc66583">Job::taskDataAs</a> (Task *const task) noexcept</td></tr>
<tr class="memdesc:aaa8262392bcfb41a78dd6f88cfc66583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grabs the user-data pointer as the T you specified. No safety is guaranteed, this is just a dumb cast.  <a href="namespace_job.html#aaa8262392bcfb41a78dd6f88cfc66583">More...</a><br /></td></tr>
<tr class="separator:aaa8262392bcfb41a78dd6f88cfc66583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec10f2d523979ff45c51afc878c94b5"><td class="memTemplParams" colspan="2">template&lt;typename T , typename... Args&gt; </td></tr>
<tr class="memitem:acec10f2d523979ff45c51afc878c94b5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#acec10f2d523979ff45c51afc878c94b5">Job::taskEmplaceData</a> (Task *const task, Args &amp;&amp;... args)</td></tr>
<tr class="memdesc:acec10f2d523979ff45c51afc878c94b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the constructor of T on the user-data buffer.  <a href="namespace_job.html#acec10f2d523979ff45c51afc878c94b5">More...</a><br /></td></tr>
<tr class="separator:acec10f2d523979ff45c51afc878c94b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc3fada917ffd44bd80b41bb08c314f"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:adcc3fada917ffd44bd80b41bb08c314f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#adcc3fada917ffd44bd80b41bb08c314f">Job::taskSetData</a> (Task *const task, const T &amp;data)</td></tr>
<tr class="memdesc:adcc3fada917ffd44bd80b41bb08c314f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies 'data' into the user-data buffer by calling the T copy constructor.  <a href="namespace_job.html#adcc3fada917ffd44bd80b41bb08c314f">More...</a><br /></td></tr>
<tr class="separator:adcc3fada917ffd44bd80b41bb08c314f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba660633e1456a9aa236f609174008e7"><td class="memTemplParams" colspan="2">template&lt;typename Closure &gt; </td></tr>
<tr class="memitem:aba660633e1456a9aa236f609174008e7"><td class="memTemplItemLeft" align="right" valign="top">Task *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#aba660633e1456a9aa236f609174008e7">Job::taskMake</a> (Closure &amp;&amp;function, Task *const parent=nullptr)</td></tr>
<tr class="memdesc:aba660633e1456a9aa236f609174008e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new task making a copy of the closure.  <a href="namespace_job.html#aba660633e1456a9aa236f609174008e7">More...</a><br /></td></tr>
<tr class="separator:aba660633e1456a9aa236f609174008e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3ee53414c751ba55618ac7904fd564"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a8b3ee53414c751ba55618ac7904fd564">Job::taskIncRef</a> (Task *const task)</td></tr>
<tr class="memdesc:a8b3ee53414c751ba55618ac7904fd564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the task's ref count preventing it from being garbage collected.  <a href="namespace_job.html#a8b3ee53414c751ba55618ac7904fd564">More...</a><br /></td></tr>
<tr class="separator:a8b3ee53414c751ba55618ac7904fd564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201657cf53b6f36fcb6baf8e8a56528e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a201657cf53b6f36fcb6baf8e8a56528e">Job::taskDecRef</a> (Task *const task)</td></tr>
<tr class="memdesc:a201657cf53b6f36fcb6baf8e8a56528e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the task's ref count allow it to be garbage collected.  <a href="namespace_job.html#a201657cf53b6f36fcb6baf8e8a56528e">More...</a><br /></td></tr>
<tr class="separator:a201657cf53b6f36fcb6baf8e8a56528e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3db14d494acd341ab6dde0173152fa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#afa3db14d494acd341ab6dde0173152fa">Job::taskIsDone</a> (const Task *const task) noexcept</td></tr>
<tr class="memdesc:afa3db14d494acd341ab6dde0173152fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the done status of the task.  <a href="namespace_job.html#afa3db14d494acd341ab6dde0173152fa">More...</a><br /></td></tr>
<tr class="separator:afa3db14d494acd341ab6dde0173152fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d43c039e77c4945fb646d7e71f7bf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a56d43c039e77c4945fb646d7e71f7bf8">Job::workerGC</a> ()</td></tr>
<tr class="memdesc:a56d43c039e77c4945fb646d7e71f7bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Garbage collects tasks allocated on the current worker.  <a href="namespace_job.html#a56d43c039e77c4945fb646d7e71f7bf8">More...</a><br /></td></tr>
<tr class="separator:a56d43c039e77c4945fb646d7e71f7bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b97a10fd43fecae1545937448f33e50"><td class="memTemplParams" colspan="2">template&lt;typename ConditionFn &gt; </td></tr>
<tr class="memitem:a3b97a10fd43fecae1545937448f33e50"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#a3b97a10fd43fecae1545937448f33e50">Job::tickMainQueue</a> (ConditionFn &amp;&amp;condition, const bool run_gc=true) noexcept</td></tr>
<tr class="memdesc:a3b97a10fd43fecae1545937448f33e50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs tasks from the main queue as long as there are tasks available or <code>condition</code> returns false.  <a href="namespace_job.html#a3b97a10fd43fecae1545937448f33e50">More...</a><br /></td></tr>
<tr class="separator:a3b97a10fd43fecae1545937448f33e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5177578fe3cc9b4af31357504c9eca04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#a5177578fe3cc9b4af31357504c9eca04">Job::tickMainQueue</a> (const bool run_gc=true) noexcept</td></tr>
<tr class="memdesc:a5177578fe3cc9b4af31357504c9eca04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs tasks from the main queue until it is empty.  <a href="namespace_job.html#a5177578fe3cc9b4af31357504c9eca04">More...</a><br /></td></tr>
<tr class="separator:a5177578fe3cc9b4af31357504c9eca04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88b9884d06cd944a6c386c50b27cc9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#af88b9884d06cd944a6c386c50b27cc9d">Job::waitOnTask</a> (const Task *const task) noexcept</td></tr>
<tr class="memdesc:af88b9884d06cd944a6c386c50b27cc9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until the specified <code>task</code> is done executing. This function will block but do work while being blocked so there is no wasted time.  <a href="namespace_job.html#af88b9884d06cd944a6c386c50b27cc9d">More...</a><br /></td></tr>
<tr class="separator:af88b9884d06cd944a6c386c50b27cc9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1aa3b0a171319dc766dbd4b7966b0db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_job.html#ab1aa3b0a171319dc766dbd4b7966b0db">Job::taskSubmitAndWait</a> (Task *const self, const QueueType queue=QueueType::NORMAL) noexcept</td></tr>
<tr class="memdesc:ab1aa3b0a171319dc766dbd4b7966b0db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as calling <code>taskSubmit</code> followed by <code>waitOnTask</code>.  <a href="namespace_job.html#ab1aa3b0a171319dc766dbd4b7966b0db">More...</a><br /></td></tr>
<tr class="separator:ab1aa3b0a171319dc766dbd4b7966b0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0888cd9cc24f19f422a987c8c26dc74"><td class="memTemplParams" colspan="2">template&lt;typename Closure &gt; </td></tr>
<tr class="memitem:aa0888cd9cc24f19f422a987c8c26dc74"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_job.html#aa0888cd9cc24f19f422a987c8c26dc74">Job::taskLambdaWrapper</a> (Task *task)</td></tr>
<tr class="separator:aa0888cd9cc24f19f422a987c8c26dc74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >API for a multi-threading job system. </p>
<dl class="section author"><dt>Author</dt><dd>Shareef Raheem (<a href="https://blufedora.github.io/">https://blufedora.github.io/</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2020-09-03</dd></dl>
<p>References: [<a href="https://blog.molecular-matters.com/2015/08/24/job-system-2-0-lock-free-work-stealing-part-1-basics/">https://blog.molecular-matters.com/2015/08/24/job-system-2-0-lock-free-work-stealing-part-1-basics/</a>] [<a href="https://manu343726.github.io/2017-03-13-lock-free-job-stealing-task-system-with-modern-c/">https://manu343726.github.io/2017-03-13-lock-free-job-stealing-task-system-with-modern-c/</a>] [<a href="https://github.com/cdwfs/cds_job/blob/master/cds_job.h">https://github.com/cdwfs/cds_job/blob/master/cds_job.h</a>] [<a href="https://github.com/cyshi/logbook/blob/master/src/common/work_stealing_queue.h">https://github.com/cyshi/logbook/blob/master/src/common/work_stealing_queue.h</a>] [<a href="https://fabiensanglard.net/doom3_bfg/threading.php">https://fabiensanglard.net/doom3_bfg/threading.php</a>] [<a href="https://gdcvault.com/play/1022186/Parallelizing-the-Naughty-Dog-Engine">https://gdcvault.com/play/1022186/Parallelizing-the-Naughty-Dog-Engine</a>]</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2020-2024 Shareef Abdoul-Raheem </dd></dl>

<p class="definition">Definition in file <a class="el" href="bf__job__api_8hpp_source.html">bf_job_api.hpp</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="struct_job_1_1_task_data" id="struct_job_1_1_task_data"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_job_1_1_task_data">&#9670;&nbsp;</a></span>Job::TaskData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Job::TaskData</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >A buffer for user-data you can write to, maybe large enough to store task data inline. </p>
<p >If you store non trivial data remember to manually call it's destructor at the end of the task function.</p>
<p >If you call 'taskEmplaceData' or 'taskSetData' and need to update the data once more be sure to destruct the previous contents correctly if the data stored in the buffer is non trivial. </p>

<p class="definition">Definition at line <a class="el" href="bf__job__api_8hpp_source.html#l00151">151</a> of file <a class="el" href="bf__job__api_8hpp_source.html">bf_job_api.hpp</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a206e9e451cca5c05ad02c69ad733d8f0" name="a206e9e451cca5c05ad02c69ad733d8f0"></a>void *</td>
<td class="fieldname">
ptr</td>
<td class="fielddoc">
The start of the buffer you may write to. </td></tr>
<tr><td class="fieldtype">
<a id="a19841c4464efdc31fd3315982499ec87" name="a19841c4464efdc31fd3315982499ec87"></a>size_t</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
The size of the buffer. </td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_3456df1ae52d53fc831eb405b13e9d7d.html">concurrent</a></li><li class="navelem"><a class="el" href="bf__job__api_8hpp.html">bf_job_api.hpp</a></li>
    <li class="footer">Generated on Sun Mar 10 2024 03:39:51 for BluFedora Job System by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
